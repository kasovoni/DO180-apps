


[student@workstation ~]$ ls
Desktop  Documents  Downloads  Music  Pictures  Public  Templates  Videos
[student@workstation ~]$ lab-configure 

This script configures the connection parameters to access the OpenShift cluster for your lab scripts

 · Enter the Master API URL: https://api.ocp-na2.prod.nextcle.com:6443
 · Enter the Cluster ID: uuid-value57c48a8d-c97b-433f-86f2-c6c80c516bed
 · Enter the Wildcard Domain: apps.ocp-na2.prod.nextcle.com
 · Enter the Developer User name: sila-kissuu-us
 · Enter the Developer User Password: ce9b7683c1a94deea390
 · Enter the GitHub Account Name: kasovoni
 · Enter the Quay.io Account Name: kasovoni

You entered:
 · Master API URL:			https://api.ocp-na2.prod.nextcle.com:6443
 · Cluster ID:				uuid-value57c48a8d-c97b-433f-86f2-c6c80c516bed
 · Wildcard Domain:			apps.ocp-na2.prod.nextcle.com
 · Nexus Server Host:			nexus-common.apps.ocp-na2.prod.nextcle.com
 · Developer User Name:			sila-kissuu-us
 · Developer User Password:		ce9b7683c1a94deea390
 · GitHub Account Name:			kasovoni
 · Quay.io Account Name:		kasovoni

Verifying your Master API URL...

Verifying your Nexus host...

Verifying your OpenShift developer user credentials...

Verifying your GitHub account name...

Verifying your Quay.io account name...

Verifying your cluster configuration...

ERROR:
OpenShift reports a different cluster ID: 57c48a8d-c97b-433f-86f2-c6c80c516bed.
No changes made to your lab configuration.
[student@workstation ~]$ lab-configure 

This script configures the connection parameters to access the OpenShift cluster for your lab scripts

 · Enter the Master API URL: https://api.ocp-na2.prod.nextcle.com:6443
 · Enter the Cluster ID: 57c48a8d-c97b-433f-86f2-c6c80c516bed
 · Enter the Wildcard Domain: apps.ocp-na2.prod.nextcle.com
 · Enter the Developer User name: sila-kissuu-us
 · Enter the Developer User Password: ce9b7683c1a94deea390
 · Enter the GitHub Account Name: kasovoni
 · Enter the Quay.io Account Name: kasovoni

You entered:
 · Master API URL:			https://api.ocp-na2.prod.nextcle.com:6443
 · Cluster ID:				57c48a8d-c97b-433f-86f2-c6c80c516bed
 · Wildcard Domain:			apps.ocp-na2.prod.nextcle.com
 · Nexus Server Host:			nexus-common.apps.ocp-na2.prod.nextcle.com
 · Developer User Name:			sila-kissuu-us
 · Developer User Password:		ce9b7683c1a94deea390
 · GitHub Account Name:			kasovoni
 · Quay.io Account Name:		kasovoni

Verifying your Master API URL...

Verifying your Nexus host...

Verifying your OpenShift developer user credentials...

Verifying your GitHub account name...

Verifying your Quay.io account name...

Verifying your cluster configuration...

Saving your lab configuration file...

All fine, lab config saved. You can now proceed with your exercises.

[student@workstation ~]$ git clone https://github.com/kasovoni/DO180-apps
Cloning into 'DO180-apps'...
remote: Enumerating objects: 82, done.
remote: Total 82 (delta 0), reused 0 (delta 0), pack-reused 82
Unpacking objects: 100% (82/82), done.
[student@workstation ~]$ ls
Desktop  DO180-apps  Documents  Downloads  Music  Pictures  Public  Templates  Videos
[student@workstation ~]$ lab container-create start

Setting up workstation for the Guided Exercise: Creating a MySQL database instance

 · Checking podman configuration...............................  SUCCESS
 · Creating create_table.txt file..............................  SUCCESS
[student@workstation ~]$ sudo podman run --name mysql-basic \
> > -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 \
> > -e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55 \
> > -d rhscl/mysql-57-rhel7:5.7-3.14
unable to pull MYSQL_USER=user1: error getting default registries to try: invalid reference format
[student@workstation ~]$ sudo podman run --name mysql-basic  -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55  -e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55  -d rhscl/mysql-57-rhel7:5.7-3.14
Trying to pull registry.access.redhat.com/rhscl/mysql-57-rhel7:5.7-3.14...Getting image source signatures
Copying blob sha256:e373541ccf6aa55febe7a8f65456b053fd26adc0dfcb3768f3e6230aa2fd0b82
 69.66 MB / ? [--------------=---------------------------------------------] 4s 
Copying blob sha256:c5d2e94811694c4e9b36a48eaee66177ee553fb9867df40bfd0fe66480881020
 1.20 KB / ? [--------=----------------------------------------------------] 0s 
Copying blob sha256:b3949aed10ebf6900d1ae4799f4cbe0be71a71e414a3bd5b2ecc99f12b2c3561
 62.03 MB / ? [--=---------------------------------------------------------] 6s 
Writing manifest to image destination
Storing signatures
3bad7f31027cc42ad5cc6b7bcb6c8b8e2df9a5bdb75fffc6920f6341fc8bf648
[student@workstation ~]$ sudo podman ps --format "{{.ID}} {{.Image}} {{.Names}}"
3bad7f31027c   registry.access.redhat.com/rhscl/mysql-57-rhel7:5.7-3.14   mysql-basic
[student@workstation ~]$ sudo podman exec -it mysql-basic /bin/bash
bash-4.2$ mysql -uroot
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 2
Server version: 5.7.16 MySQL Community Server (GPL)

Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| items              |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
5 rows in set (0.00 sec)

mysql> use items;
Database changed
mysql> CREATE TABLE Projects (id int(11) NOT NULL,name varchar(255) DEFAULT NULL,code varchar(255) DEFAULT NULL,PRIMARY KEY (id));
Query OK, 0 rows affected (0.03 sec)

mysql> show tables;
+-----------------+
| Tables_in_items |
+-----------------+
| Projects        |
+-----------------+
1 row in set (0.00 sec)

mysql> insert into Projects (id, name, code) values (1,'DevOps','DO180');
Query OK, 1 row affected (0.01 sec)

mysql> select * from projects;
ERROR 1146 (42S02): Table 'items.projects' doesn't exist
mysql> select * from Projects
    -> ;
+----+--------+-------+
| id | name   | code  |
+----+--------+-------+
|  1 | DevOps | DO180 |
+----+--------+-------+
1 row in set (0.00 sec)

mysql> exit
Bye
bash-4.2$ lac container-create finish
bash: lac: command not found
bash-4.2$ lab container-create finish
bash: lab: command not found
bash-4.2$ exit
exit
exit status 127
[student@workstation ~]$ lab container-create finish 

Completing the Guided Exercise: Creating a MySQL database instance

 · Removing "mysql-basic" container............................  SUCCESS
 · Removing "rhscl/mysql-57-rhel7:5.7-3.14" image..............  SUCCESS
[student@workstation ~]$ lab container-review start

Setting up workstation for the Lab: Creating Containerized Services

 · Checking podman configuration...............................  SUCCESS
 · Setting up labs folder......................................  SUCCESS
 · Downloading starter project.................................  SUCCESS
 · Downloading solution project................................  SUCCESS

Setup successful. Please proceed with the exercise.

[student@workstation ~]$ sudo podman run -d -p 8080:80
image name or ID is required
[student@workstation ~]$ sudo podman run -d -p 8080:80 --name httpd-basic redhattraining/httpd-parent:2.4
Trying to pull registry.access.redhat.com/redhattraining/httpd-parent:2.4...Failed
Trying to pull quay.io/redhattraining/httpd-parent:2.4...Getting image source signatures
Copying blob sha256:787f47dbeaac926cc8c927a48e8a84fc97e05fbd1c08a4c9c4ddcaddfd87e2f7
 67.66 MB / 67.66 MB [======================================================] 3s
Copying blob sha256:6a5240d60dc4e1ade0d103badb2a897e8103ebf0ebe08350cd582bbc9671cc7a
 1.45 KB / 1.45 KB [========================================================] 0s
Copying blob sha256:a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4
 32 B / 32 B [==============================================================] 0s
Skipping fetch of repeat blob sha256:a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4
Copying blob sha256:08b8c9fdec444ba23c764be2e8c24e1526d664dc72339af2429dc66fbfefe850
 5.76 MB / 5.76 MB [========================================================] 0s
Skipping fetch of repeat blob sha256:a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4
Skipping fetch of repeat blob sha256:a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4
Copying blob sha256:408208567b9aab11c5265eadd4cbc9c890d73d74ffcdaf3e2309aaef12cd9394
 148 B / 148 B [============================================================] 0s
Skipping fetch of repeat blob sha256:a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4
Skipping fetch of repeat blob sha256:a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4
Writing manifest to image destination
Storing signatures
1fec3f7437badd2506e12af339a64cc62b14e5bf86848beb6a0eccc770ee379f
[student@workstation ~]$ sudo podman exec -it httpd-basic /bin/bash
bash-4.4# vi /var/www/html/index.html 
bash-4.4# echo "Hello World" > /var/www/html/index.html 
bash-4.4# exit 
exit
[student@workstation ~]$ curl http://localhost:8080
Hello World
[student@workstation ~]$ lab container-review grade

Grading the student's work for the Lab: Creating Containerized Services

 · The httpd container image was pulled........................  PASS
 · The container was started with the correct name.............  PASS
 · The container was started with the correct image............  PASS
 · Check the content of index.html.............................  PASS

[student@workstation ~]$ lab container-review finish 

Completing the Lab: Creating Containerized Services

 · Removing "httpd-basic" container............................  SUCCESS
 · Removing "redhattraining/httpd-parent:2.4" image............  SUCCESS
[student@workstation ~]$ lab manage-lifecycle start

Setting up workstation for the Guided Excercise: Managing a MySQL Container

 · Checking podman configuration...............................  SUCCESS
 · Downloading starter project.................................  SUCCESS
 · Downloading solution project................................  SUCCESS

Setup successful. Please proceed with the exercise.

[student@workstation ~]$ sudo podman run --name mysql-db rhscl/mysql-57-rhel7
Trying to pull registry.access.redhat.com/rhscl/mysql-57-rhel7:latest...Getting image source signatures
Copying blob sha256:1c9f515fc6ab2b7ebfcaffd8af681b68869d78a3b19c69e87c296363ab1bc2fe
 72.70 MB / ? [=-----------------------------------------------------------] 3s 
Copying blob sha256:1d2c4ce43b78cb9a97ede7f19ad1406a43ee50532568bda660193e4a404b424f
 1.54 KB / ? [--------------------------------------=----------------------] 0s 
Copying blob sha256:f1e961fe4c5192ab9f8e241a2efc674779623ac6a3ed49ee9a1a5b3b8425fe0d
 6.85 MB / ? [-----------------------=-------------------------------------] 0s 
Copying blob sha256:9f1840c3b3bd1303763f9abba51fdd1dcce1ed28bfff318dd2af055b78207520
 62.31 MB / ? [-------------------=----------------------------------------] 3s 
Copying config sha256:60726b33a00a2c3be60e25c3270a34a9b147db86602f05a71988a1c92a70cebc
 6.85 KB / 6.85 KB [========================================================] 0s
Writing manifest to image destination
Storing signatures
=> sourcing 20-validate-variables.sh ...
You must either specify the following environment variables:
  MYSQL_USER (regex: '^[a-zA-Z0-9_]+$')
  MYSQL_PASSWORD (regex: '^[a-zA-Z0-9_~!@#$%^&*()-=<>,.?;:|]+$')
  MYSQL_DATABASE (regex: '^[a-zA-Z0-9_]+$')
Or the following environment variable:
  MYSQL_ROOT_PASSWORD (regex: '^[a-zA-Z0-9_~!@#$%^&*()-=<>,.?;:|]+$')
Or both.
Optional Settings:
  MYSQL_LOWER_CASE_TABLE_NAMES (default: 0)
  MYSQL_LOG_QUERIES_ENABLED (default: 0)
  MYSQL_MAX_CONNECTIONS (default: 151)
  MYSQL_FT_MIN_WORD_LEN (default: 4)
  MYSQL_FT_MAX_WORD_LEN (default: 20)
  MYSQL_AIO (default: 1)
  MYSQL_KEY_BUFFER_SIZE (default: 32M or 10% of available memory)
  MYSQL_MAX_ALLOWED_PACKET (default: 200M)
  MYSQL_TABLE_OPEN_CACHE (default: 400)
  MYSQL_SORT_BUFFER_SIZE (default: 256K)
  MYSQL_READ_BUFFER_SIZE (default: 8M or 5% of available memory)
  MYSQL_INNODB_BUFFER_POOL_SIZE (default: 32M or 50% of available memory)
  MYSQL_INNODB_LOG_FILE_SIZE (default: 8M or 15% of available memory)
  MYSQL_INNODB_LOG_BUFFER_SIZE (default: 8M or 15% of available memory)

For more information, see https://github.com/sclorg/mysql-container
[student@workstation ~]$ sudo podman logs mysql-db
=> sourcing 20-validate-variables.sh ...
You must either specify the following environment variables:
  MYSQL_USER (regex: '^[a-zA-Z0-9_]+$')
  MYSQL_PASSWORD (regex: '^[a-zA-Z0-9_~!@#$%^&*()-=<>,.?;:|]+$')
  MYSQL_DATABASE (regex: '^[a-zA-Z0-9_]+$')
Or the following environment variable:
  MYSQL_ROOT_PASSWORD (regex: '^[a-zA-Z0-9_~!@#$%^&*()-=<>,.?;:|]+$')
Or both.
Optional Settings:
  MYSQL_LOWER_CASE_TABLE_NAMES (default: 0)
  MYSQL_LOG_QUERIES_ENABLED (default: 0)
  MYSQL_MAX_CONNECTIONS (default: 151)
  MYSQL_FT_MIN_WORD_LEN (default: 4)
  MYSQL_FT_MAX_WORD_LEN (default: 20)
  MYSQL_AIO (default: 1)
  MYSQL_KEY_BUFFER_SIZE (default: 32M or 10% of available memory)
  MYSQL_MAX_ALLOWED_PACKET (default: 200M)
  MYSQL_TABLE_OPEN_CACHE (default: 400)
  MYSQL_SORT_BUFFER_SIZE (default: 256K)
  MYSQL_READ_BUFFER_SIZE (default: 8M or 5% of available memory)
  MYSQL_INNODB_BUFFER_POOL_SIZE (default: 32M or 50% of available memory)
  MYSQL_INNODB_LOG_FILE_SIZE (default: 8M or 15% of available memory)
  MYSQL_INNODB_LOG_BUFFER_SIZE (default: 8M or 15% of available memory)

For more information, see https://github.com/sclorg/mysql-container
[student@workstation ~]$ sudo podman run --name mysql -d -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55 rhscl/mysql-57-rhel7
b96eebba59135734fc2e85135fb6945e9a82ba907215d0112a0814390420231b
[student@workstation ~]$ sudo podman ps
CONTAINER ID   IMAGE                                                    COMMAND                  CREATED          STATUS              PORTS   NAMES
b96eebba5913   registry.access.redhat.com/rhscl/mysql-57-rhel7:latest   container-entrypoin...   12 seconds ago   Up 12 seconds ago           mysql
[student@workstation ~]$ sudo podman inspect -f '{{.NetworkSettings.IPAddress }}' mysql
10.88.0.5
[student@workstation ~]$ mysql -uuser1 -h 10.88.0.5 -p items
Enter password: 
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MySQL connection id is 2
Server version: 5.7.24 MySQL Community Server (GPL)

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MySQL [items]> 
MySQL [items]> create table Projects (id int(11) NOT NULL, name varchar(255) DEFAULT NULL, code varchar(255) DEFAULT NULL, primary key(id));
Query OK, 0 rows affected (0.04 sec)

MySQL [items]> show table Projects
    -> ;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'Projects' at line 1
MySQL [items]> show tables;
+-----------------+
| Tables_in_items |
+-----------------+
| Projects        |
+-----------------+
1 row in set (0.00 sec)

MySQL [items]> insert into Projects (id,name,code) values (1,'DevOps', 'DO180');
Query OK, 1 row affected (0.01 sec)

MySQL [items]> exit
Bye
[student@workstation ~]$ sudo podman run --name mysql-2 -it rhscl/mysql-57-rhel7 /bin/bash
bash-4.2$ mysql -uroot 
ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)
bash-4.2$ exit
exit
[student@workstation ~]$ sudo pod
pod2html   pod2man    pod2text   pod2usage  podman     
[student@workstation ~]$ sudo podman ps -a --format="table {{.ID}} {{.Names}} {{.Status}}"
CONTAINER ID   NAMES      STATUS
297f3b143723   mysql-2    Exited (1) 41 seconds ago
b96eebba5913   mysql      Up 6 minutes ago
b9ff33a982e5   mysql-db   Exited (1) 9 minutes ago
[student@workstation ~]$ 
[student@workstation ~]$ 
[student@workstation ~]$ sudo podman exec mysql /bin/bash -c 'mysql -uuser1 -p -e "select * from items.Projects;"'
Enter password: mypa55
id	name	code
1	DevOps	DO180
[student@workstation ~]$ lab manage-lifecycle finish 

Completing the Guided Excercise: Managing a MySQL Container

 · Stopping 'mysql' container..................................  SUCCESS
 · Stopping 'mysql-2' container................................  SUCCESS
 · Removing 'mysql' container..................................  SUCCESS
 · Removing 'mysql-2' container................................  SUCCESS
 · Removing 'mysql-db' container...............................  SUCCESS
 · Removing 'rhscl/mysql-57-rhel7' image.......................  SUCCESS
[student@workstation ~]$ 
[student@workstation ~]$ lab manage-storage start

Setting up workstation for the Guided Exercise: Persisting a MySQL Database

 · Checking podman configuration...............................  SUCCESS
 · Check if the directory used by lab is not created...........  SUCCESS
[student@workstation ~]$ sudo mkdir -pv /var/local/mysql
mkdir: created directory ‘/var/local/mysql’
[student@workstation ~]$ sudo semanage fcontext -a -t container_file_t '/var/local/mysql(/.*)?'
[student@workstation ~]$ sudo restorecon -R /var/local/mysql
[student@workstation ~]$ ls -dZ /var/local/mysql
drwxr-xr-x. root root unconfined_u:object_r:container_file_t:s0 /var/local/mysql
[student@workstation ~]$ sudo chown -Rv 27:27 /var/local/mysql/
changed ownership of ‘/var/local/mysql/’ from root:root to 27:27
[student@workstation ~]$ sudo podman pull rhscl/mysql-57-rhel7
Trying to pull registry.access.redhat.com/rhscl/mysql-57-rhel7:latest...Getting image source signatures
Copying blob sha256:1c9f515fc6ab2b7ebfcaffd8af681b68869d78a3b19c69e87c296363ab1bc2fe
 72.70 MB / ? [=-----------------------------------------------------------] 4s 
Copying blob sha256:1d2c4ce43b78cb9a97ede7f19ad1406a43ee50532568bda660193e4a404b424f
 1.54 KB / ? [--------------------------------------=----------------------] 0s 
Copying blob sha256:f1e961fe4c5192ab9f8e241a2efc674779623ac6a3ed49ee9a1a5b3b8425fe0d
 6.85 MB / ? [-----------------------=-------------------------------------] 0s 
Copying blob sha256:9f1840c3b3bd1303763f9abba51fdd1dcce1ed28bfff318dd2af055b78207520
 62.31 MB / ? [-------------------=----------------------------------------] 3s 
Copying config sha256:60726b33a00a2c3be60e25c3270a34a9b147db86602f05a71988a1c92a70cebc
 6.85 KB / 6.85 KB [========================================================] 0s
Writing manifest to image destination
Storing signatures
60726b33a00a2c3be60e25c3270a34a9b147db86602f05a71988a1c92a70cebc
[student@workstation ~]$ sudo podman run --name persist-db -d -v /var/local/mysql:/var/lib/mysql/data -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55 rhscl/mysql-57-rhel7
07724b2273603aec444788be70cdd73f179a384d4e1e0bffc76bc8ced816dced
[student@workstation ~]$ history|grep Status
   29  sudo podman ps -a --format="table {{.ID}} {{.Names}} {{.Status}}"
   40  history|grep Status
[student@workstation ~]$ !29
sudo podman ps -a --format="table {{.ID}} {{.Names}} {{.Status}}"
CONTAINER ID   NAMES        STATUS
07724b227360   persist-db   Up 18 seconds ago
[student@workstation ~]$ ls -l /var/loc
local/ lock/  
[student@workstation ~]$ ls -l /var/local/mysql/
total 41036
-rw-r-----. 1 27 27        2 Aug  1 15:35 07724b227360.pid
-rw-r-----. 1 27 27       56 Aug  1 15:34 auto.cnf
-rw-------. 1 27 27     1680 Aug  1 15:34 ca-key.pem
-rw-r--r--. 1 27 27     1112 Aug  1 15:34 ca.pem
-rw-r--r--. 1 27 27     1112 Aug  1 15:34 client-cert.pem
-rw-------. 1 27 27     1680 Aug  1 15:34 client-key.pem
-rw-r-----. 1 27 27      673 Aug  1 15:35 ib_buffer_pool
-rw-r-----. 1 27 27 12582912 Aug  1 15:35 ibdata1
-rw-r-----. 1 27 27  8388608 Aug  1 15:35 ib_logfile0
-rw-r-----. 1 27 27  8388608 Aug  1 15:34 ib_logfile1
-rw-r-----. 1 27 27 12582912 Aug  1 15:35 ibtmp1
drwxr-x---. 2 27 27       20 Aug  1 15:35 items
drwxr-x---. 2 27 27     4096 Aug  1 15:35 mysql
-rw-r--r--. 1 27 27        6 Aug  1 15:35 mysql_upgrade_info
drwxr-x---. 2 27 27     8192 Aug  1 15:35 performance_schema
-rw-------. 1 27 27     1680 Aug  1 15:34 private_key.pem
-rw-r--r--. 1 27 27      452 Aug  1 15:34 public_key.pem
-rw-r--r--. 1 27 27     1112 Aug  1 15:34 server-cert.pem
-rw-------. 1 27 27     1676 Aug  1 15:34 server-key.pem
drwxr-x---. 2 27 27     8192 Aug  1 15:35 sys
[student@workstation ~]$ lab manage-storage finish 

Completing the Guided Exercise: Persisting a MySQL Database

 · Stopping the 'persist-db' container.........................  SUCCESS
 · Removing the 'persist-db' container.........................  SUCCESS
 · Removing the 'rhscl/mysql-57-rhel7' image...................  SUCCESS
 · Removing the /var/local/mysql directory.....................  SUCCESS
 · Removing the fcontext for /var/local/mysql..................  SUCCESS
[student@workstation ~]$ 


[student@workstation ~]$ lab manage-networking start

Setting up workstation for the Guided Exercise: Loading the Database

 · Checking podman configuration...............................  SUCCESS
 · Creating a host directory for the database container:
   · Adding fcontext policy for /var/local/mysql...............  SUCCESS
   · Creating the /var/local/mysql directory...................  SUCCESS
   · Apply fcontext policy to /var/local/mysql.................  SUCCESS
 · Downloading starter project.................................  SUCCESS
 · Downloading solution project................................  SUCCESS

Setup successful. Please proceed with the exercise.


[student@workstation ~]$ sudo podman run --name mysqldb-port -d -v /var/local/mysql:/var/lib/mysql -p 13306:3306 -e -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55 rhscl/mysql-57-rhel7
option --env requires a value
[student@workstation ~]$ sudo podman run --name mysqldb-port -d -v /var/local/mysql:/var/lib/mysql -p 13306:3306 -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55 rhscl/mysql-57-rhel7
Trying to pull registry.access.redhat.com/rhscl/mysql-57-rhel7:latest...Getting image source signatures
Copying blob sha256:1c9f515fc6ab2b7ebfcaffd8af681b68869d78a3b19c69e87c296363ab1bc2fe
 72.70 MB / ? [=-----------------------------------------------------------] 4s 
Copying blob sha256:1d2c4ce43b78cb9a97ede7f19ad1406a43ee50532568bda660193e4a404b424f
 1.54 KB / ? [--------------------------------------=----------------------] 0s 
Copying blob sha256:f1e961fe4c5192ab9f8e241a2efc674779623ac6a3ed49ee9a1a5b3b8425fe0d
 6.85 MB / ? [-----------------------=-------------------------------------] 0s 
Copying blob sha256:9f1840c3b3bd1303763f9abba51fdd1dcce1ed28bfff318dd2af055b78207520
 62.31 MB / ? [-------------------=----------------------------------------] 3s 
Copying config sha256:60726b33a00a2c3be60e25c3270a34a9b147db86602f05a71988a1c92a70cebc
 6.85 KB / 6.85 KB [========================================================] 0s
Writing manifest to image destination
Storing signatures
d72c3a0518821a9c306fa063d5f4ece4730b99956b142eb2381d768d527b6e5e
[student@workstation ~]$ 
[student@workstation ~]$ 
[student@workstation ~]$ sudo podman ps -a
CONTAINER ID   IMAGE                                                    COMMAND                  CREATED          STATUS              PORTS                     NAMES          IS INFRA
d72c3a051882   registry.access.redhat.com/rhscl/mysql-57-rhel7:latest   container-entrypoin...   28 seconds ago   Up 28 seconds ago   0.0.0.0:13306->3306/tcp   mysqldb-port   false
[student@workstation ~]$ sudo podman ps 
CONTAINER ID   IMAGE                                                    COMMAND                  CREATED          STATUS              PORTS                     NAMES
d72c3a051882   registry.access.redhat.com/rhscl/mysql-57-rhel7:latest   container-entrypoin...   42 seconds ago   Up 42 seconds ago   0.0.0.0:13306->3306/tcp   mysqldb-port
[student@workstation ~]$ 
[student@workstation ~]$ 
[student@workstation ~]$ mysql -uuser1 -h 127.0.0.1 -pmypa55 -P13306 items < /home/student/DO180/labs/manage-networking/db.sql 
[student@workstation ~]$ ls
-d       DO180       Documents  -e     Pictures  running.log  Videos
Desktop  DO180-apps  Downloads  Music  Public    Templates
[student@workstation ~]$ cd DO180
[student@workstation DO180]$ ls
labs  solutions
[student@workstation DO180]$ cd labs/
[student@workstation labs]$ ll
total 0
drwxrwxr-x. 2 student student 39 Sep 24  2019 container-review
drwxrwxr-x. 2 student student 20 Sep 24  2019 manage-lifecycle
drwxrwxr-x. 2 student student 20 Sep 24  2019 manage-networking
[student@workstation labs]$ cd manage-networking/
[student@workstation manage-networking]$ ll
total 4
-rw-rw-r--. 1 student student 271 Sep 24  2019 db.sql
[student@workstation manage-networking]$ cd ~
[student@workstation ~]$ ll
total 24
-rw-rw-r--. 1 student student     0 Aug  1 15:05 -d
drwxr-xr-x. 2 student student    40 Aug  1 14:55 Desktop
drwxr-xr-x. 4 root    root       35 Aug  1 15:10 DO180
drwxrwxr-x. 9 student student   143 Aug  1 15:04 DO180-apps
drwxr-xr-x. 2 student student     6 Aug  1 14:52 Documents
drwxr-xr-x. 2 student student     6 Aug  1 14:52 Downloads
-rw-rw-r--. 1 student student     0 Aug  1 15:05 -e
drwxr-xr-x. 2 student student     6 Aug  1 14:52 Music
drwxr-xr-x. 2 student student     6 Aug  1 14:52 Pictures
drwxr-xr-x. 2 student student     6 Aug  1 14:52 Public
-rw-rw-r--. 1 student student 21225 Aug  1 15:38 running.log
drwxr-xr-x. 2 student student     6 Aug  1 14:52 Templates
drwxr-xr-x. 2 student student     6 Aug  1 14:52 Videos
[student@workstation ~]$ cd DO180-apps/
[student@workstation DO180-apps]$ ls
example  nodejs-app  nodejs-helloworld  php-helloworld  README.md  temps  todoapp
[student@workstation DO180-apps]$ mv ~/running.log .
[student@workstation DO180-apps]$ git push
Username for 'https://github.com': kasovoni
Password for 'https://kasovoni@github.com': 
remote: Invalid username or password.
fatal: Authentication failed for 'https://github.com/kasovoni/DO180-apps/'
[student@workstation DO180-apps]$ git push
Username for 'https://github.com': kasovoni
Password for 'https://kasovoni@github.com': 
Everything up-to-date
[student@workstation DO180-apps]$ git commit
# On branch master
# Untracked files:
#   (use "git add <file>..." to include in what will be committed)
#
#	running.log
nothing added to commit but untracked files present (use "git add" to track)
[student@workstation DO180-apps]$ git add running.log
[student@workstation DO180-apps]$ git commit
[master ca6a057] add running log
 1 file changed, 446 insertions(+)
 create mode 100644 running.log
[student@workstation DO180-apps]$ git push
Counting objects: 4, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 5.31 KiB | 0 bytes/s, done.
Total 3 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/kasovoni/DO180-apps
   f7cd896..ca6a057  master -> master
[student@workstation DO180-apps]$ mysql -uuser1 -h 127.0.0.1 -pmypa55 -P13306 items -e "select * from item"
ERROR 1146 (42S02) at line 1: Table 'items.item' doesn't exist
[student@workstation DO180-apps]$ mysql -uuser1 -h 127.0.0.1 -pmypa55 -P13306 items -e "select * from Item"
+----+-------------------+------+
| id | description       | done |
+----+-------------------+------+
|  1 | Pick up newspaper |    0 |
|  2 | Buy groceries     |    1 |
+----+-------------------+------+
[student@workstation DO180-apps]$ sudo podman exec -it mysqldb-port /bin/bash
bash-4.2$ which mysql
/opt/rh/rh-mysql57/root/usr/bin/mysql
bash-4.2$ mysql -uroot items -e "select * from Item"
+----+-------------------+------+
| id | description       | done |
+----+-------------------+------+
|  1 | Pick up newspaper |    0 |
|  2 | Buy groceries     |    1 |
+----+-------------------+------+
bash-4.2$ exit
exit
[student@workstation DO180-apps]$ ls
example  nodejs-app  nodejs-helloworld  php-helloworld  README.md  running.log  temps  todoapp
[student@workstation DO180-apps]$ sudo podman exec -it mysqldb-port /opt/rh/rh-^C
[student@workstation DO180-apps]$ ls /opt
apache-maven  apache-maven-3.5.4  rh
[student@workstation DO180-apps]$ sudo podman exec -it mysqldb-port /opt/rh/rh-mysql57/root/usr/bin/mysql -uroot items -e "select * from Item"
+----+-------------------+------+
| id | description       | done |
+----+-------------------+------+
|  1 | Pick up newspaper |    0 |
|  2 | Buy groceries     |    1 |
+----+-------------------+------+
[student@workstation DO180-apps]$ lab manage-networking finish

Completing the Guided Exercise: Loading the Database

 · Stopping the 'mysqldb-port' container.......................  SUCCESS
 · Removing the 'mysqldb-port' container.......................  SUCCESS
 · Removing the 'rhscl/mysql-57-rhel7' image...................  SUCCESS
 · Removing the /var/local/mysql directory.....................  SUCCESS
 · Removing the fcontext for /var/local/mysql..................  SUCCESS
[student@workstation DO180-apps]$ 

============================================
LAB: Managing Containers
============================================
[student@workstation DO180-apps]$ lab manage-review start 

Setting up workstation for the Lab: Managing Containers

 · Checking podman configuration...............................  SUCCESS
 · Check that /var/local/mysql does not exist..................  SUCCESS
 · Downloading starter project.................................  SUCCESS
 · Downloading solution project................................  SUCCESS

Setup successful. Please proceed with the exercise.

[student@workstation DO180-apps]$ mkdir -pv /var/local/mysql
mkdir: cannot create directory ‘/var/local/mysql’: Permission denied
[student@workstation DO180-apps]$ sudo mkdir -pv /var/local/mysql
mkdir: created directory ‘/var/local/mysql’
[student@workstation DO180-apps]$ sudo semanage fcontext -a -t container_file_t '/var/log/mysql(/.*)?'
[student@workstation DO180-apps]$ sudo restorecon -R /var/lo
local/ lock/  log/   
[student@workstation DO180-apps]$ sudo restorecon -R /var/log/mysql
restorecon:  lstat(/var/log/mysql) failed:  No such file or directory
[student@workstation DO180-apps]$ sudo restorecon -R /var/local/mysql
[student@workstation DO180-apps]$ sud chown -Rv 27:27 /var/local/mysql
bash: sud: command not found...
[student@workstation DO180-apps]$ sudo chown -Rv 27:27 /var/local/mysql
changed ownership of ‘/var/local/mysql’ from root:root to 27:27
[student@workstation DO180-apps]$ sudo podman run --name mysql-1 -d -v /var/local/mysql:/var/lib/mysql/data -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55 rhscl/mysql-57-rhel7
Trying to pull registry.access.redhat.com/rhscl/mysql-57-rhel7:latest...Getting image source signatures
Copying blob sha256:1c9f515fc6ab2b7ebfcaffd8af681b68869d78a3b19c69e87c296363ab1bc2fe
 72.70 MB / ? [=-----------------------------------------------------------] 6s 
Copying blob sha256:1d2c4ce43b78cb9a97ede7f19ad1406a43ee50532568bda660193e4a404b424f
 1.54 KB / ? [--------------------------------------=----------------------] 0s 
Copying blob sha256:f1e961fe4c5192ab9f8e241a2efc674779623ac6a3ed49ee9a1a5b3b8425fe0d
 6.85 MB / ? [-----------------------=-------------------------------------] 0s 
Copying blob sha256:9f1840c3b3bd1303763f9abba51fdd1dcce1ed28bfff318dd2af055b78207520
 62.31 MB / ? [-------------------=----------------------------------------] 5s 
Copying config sha256:60726b33a00a2c3be60e25c3270a34a9b147db86602f05a71988a1c92a70cebc
 6.85 KB / 6.85 KB [========================================================] 0s
Writing manifest to image destination
Storing signatures
eae3c77a4073ac277f88d110b13f6ae15b8dfa5d293923993aa755e405b0076c
[student@workstation DO180-apps]$ sudo podman ps
[student@workstation DO180-apps]$ sudo podman ps
[student@workstation DO180-apps]$ sudo podman run --name mysql-1 -d -v /var/local/mysql:/var/lib/mysql/data -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55 rhscl/mysql-57-rhel7^C
[student@workstation DO180-apps]$ ls -dZ /var/local/mysql/
drwxr-xr-x. 27 27 unconfined_u:object_r:var_t:s0   /var/local/mysql/
[student@workstation DO180-apps]$ sudo semanage fcontext -a -t container_file_t '/var/local/mysql(/.*)?'
[student@workstation DO180-apps]$ sudo restorecon -R /var/local/mysql
[student@workstation DO180-apps]$ ls -dZ /var/local/mysql/
drwxr-xr-x. 27 27 unconfined_u:object_r:container_file_t:s0 /var/local/mysql/
[student@workstation DO180-apps]$ sudo podman run --name mysql-1 -d -v /var/local/mysql:/var/lib/mysql/data -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55 rhscl/mysql-57-rhel7
error creating container storage: the container name "mysql-1" is already in use by "eae3c77a4073ac277f88d110b13f6ae15b8dfa5d293923993aa755e405b0076c". You have to remove that container to be able to reuse that name.: that name is already in use
[student@workstation DO180-apps]$ sudo podman rm mysql-1
eae3c77a4073ac277f88d110b13f6ae15b8dfa5d293923993aa755e405b0076c
[student@workstation DO180-apps]$ sudo podman run --name mysql-1 -d -v /var/local/mysql:/var/lib/mysql/data -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55 rhscl/mysql-57-rhel7
b0c23adfd1f135878bbc1e6af04aa68c68fb52015587595f09f815d3f6645276
[student@workstation DO180-apps]$ sudo podman ps
CONTAINER ID   IMAGE                                                    COMMAND                  CREATED         STATUS             PORTS   NAMES
b0c23adfd1f1   registry.access.redhat.com/rhscl/mysql-57-rhel7:latest   container-entrypoin...   7 seconds ago   Up 7 seconds ago           mysql-1
[student@workstation DO180-apps]$ sudo podman inspect -f '{{.NetworkSettings.IPAddress}}'
container or image name must be specified: podman inspect [options [...]] name
[student@workstation DO180-apps]$ sudo podman inspect -f '{{.NetworkSettings.IPAddress}}' mysql-1
10.88.0.10
[student@workstation DO180-apps]$ mysql -uuser1 -h 10.88.0.10 -pmypa55 items </home/student/DO180/labs/manage-review/db.sql 
[student@workstation DO180-apps]$ mysql -uuser1 -h 10.88.0.10 -pmypa55 items -e "select * from Item"
+----+-------------------+------+
| id | description       | done |
+----+-------------------+------+
|  1 | Pick up newspaper |    0 |
|  2 | Buy groceries     |    1 |
+----+-------------------+------+
[student@workstation DO180-apps]$ sudo podman stop mysql-1
b0c23adfd1f135878bbc1e6af04aa68c68fb52015587595f09f815d3f6645276
[student@workstation DO180-apps]$ sudo podman run --name mysql-2 -d -v /var/local/mysql:/var/lib/mysql/data -p 13306:3306 -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=items -e MYSQL_ROOT_PASSWORD=r00tpa55 rhscl/mysql-57-rhel7
e779b21b1d4bafafc79ba47d5afd11f745f15638b15bea7cadabcdbfb0473701
[student@workstation DO180-apps]$ sudo podman ps
CONTAINER ID   IMAGE                                                    COMMAND                  CREATED          STATUS              PORTS                     NAMES
e779b21b1d4b   registry.access.redhat.com/rhscl/mysql-57-rhel7:latest   container-entrypoin...   20 seconds ago   Up 20 seconds ago   0.0.0.0:13306->3306/tcp   mysql-2
[student@workstation DO180-apps]$ sudo podman ps -a
CONTAINER ID   IMAGE                                                    COMMAND                  CREATED          STATUS                     PORTS                     NAMES     IS INFRA
e779b21b1d4b   registry.access.redhat.com/rhscl/mysql-57-rhel7:latest   container-entrypoin...   39 seconds ago   Up 38 seconds ago          0.0.0.0:13306->3306/tcp   mysql-2   false
b0c23adfd1f1   registry.access.redhat.com/rhscl/mysql-57-rhel7:latest   container-entrypoin...   6 minutes ago    Exited (0) 3 minutes ago                             mysql-1   false
[student@workstation DO180-apps]$ sudo podman ps >/tmp/my-containers
[student@workstation DO180-apps]$ sudo podman exec -it mysql-2 /bin/bash
bash-4.2$ mysql -uuser1 -pmypa55 
mysql: [Warning] Using a password on the command line interface can be insecure.
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 2
Server version: 5.7.24 MySQL Community Server (GPL)

Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| items              |
+--------------------+
2 rows in set (0.00 sec)

mysql> use items;
Database changed
mysql> show tables;
+-----------------+
| Tables_in_items |
+-----------------+
| Item            |
+-----------------+
1 row in set (0.00 sec)

mysql> select * from Item;
+----+-------------------+------+
| id | description       | done |
+----+-------------------+------+
|  1 | Pick up newspaper |    0 |
|  2 | Buy groceries     |    1 |
+----+-------------------+------+
2 rows in set (0.01 sec)

mysql> exit
Bye
bash-4.2$ exit
exit
[student@workstation DO180-apps]$ mysql -uuser1 -pmypa55 -h 127.0.0.1 -p13306 items
ERROR 2003 (HY000): Can't connect to MySQL server on '127.0.0.1' (111)
[student@workstation DO180-apps]$ mysql -uuser1 -pmypa55 -h 127.0.0.1 -^C3306 items
[student@workstation DO180-apps]$ hostname
workstation.lab.example.com
[student@workstation DO180-apps]$ mysql -uuser1 -pmypa55 -h workstation.lab.example.com -p13306 items
ERROR 2003 (HY000): Can't connect to MySQL server on 'workstation.lab.example.com' (111)
[student@workstation DO180-apps]$ sudo podman ps
CONTAINER ID   IMAGE                                                    COMMAND                  CREATED         STATUS             PORTS                     NAMES
e779b21b1d4b   registry.access.redhat.com/rhscl/mysql-57-rhel7:latest   container-entrypoin...   7 minutes ago   Up 7 minutes ago   0.0.0.0:13306->3306/tcp   mysql-2
[student@workstation DO180-apps]$ sudo podman exec -it mysql-2 /bin/bash -c 'mysql -uuser1 -pmypa55 -e "insert into Item (description,done) values ('Finished lab',1);"'
lab,1);": -c: line 0: unexpected EOF while looking for matching `"'
lab,1);": -c: line 1: syntax error: unexpected end of file
exit status 1
[student@workstation DO180-apps]$ sudo podman exec -it mysql-2 /bin/bash -c 'mysql -uuser1 -pmypa55 -e "insert into Item (description,done) values ("Finished lab",1);"'
mysql: [Warning] Using a password on the command line interface can be insecure.
ERROR 1044 (42000): Access denied for user 'user1'@'%' to database 'lab,1);'
exit status 1
[student@workstation DO180-apps]$ sudo podman exec -it mysql-2 /bin/bash -c 'mysql -uuser1 -p -e "insert into Item (description,done) values ("Finished lab",1);"'
Enter password: 
ERROR 1044 (42000): Access denied for user 'user1'@'%' to database 'lab,1);'
exit status 1
[student@workstation DO180-apps]$ sudo podman exec -it mysql-2 /bin/bash -c 'mysql -uroot -p -e "insert into Item (description,done) values ("Finished lab",1);"'
Enter password: 
ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES)
exit status 1
[student@workstation DO180-apps]$ sudo podman exec -it mysql-2 /bin/bash -c 'mysql -uuser1 -pmypa55 -e "insert into Item (description,done) values ("Finished lab",1);"' -h workstation.lab.example.com
mysql: [Warning] Using a password on the command line interface can be insecure.
ERROR 1044 (42000): Access denied for user 'user1'@'%' to database 'lab,1);'
exit status 1
[student@workstation DO180-apps]$ sudo podman exec -it mysql-2 /bin/bash -c 'mysql -uroot -p -e "insert into Item (description,done) values ("Finished lab",1);"' -h workstation.lab.example.com
Enter password: 
ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES)
exit status 1
[student@workstation DO180-apps]$ sudo podman exec -it mysql-2 /bin/bash -c 'mysql -uroot -p -e "insert into Item (description,done) values ("Finished lab",1);"' -h workstation.lab.example.com
Enter password: 
ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES)
exit status 1
[student@workstation DO180-apps]$ sudo podman exec -it mysql-2 /bin/bash -c 'mysql -uuser1 -pmypa55 -e "insert into Item (description,done) values ("Finished lab",1);"' -h workstation.lab.example.com -P13306 items
mysql: [Warning] Using a password on the command line interface can be insecure.
ERROR 1044 (42000): Access denied for user 'user1'@'%' to database 'lab,1);'
exit status 1
[student@workstation DO180-apps]$ sudo podman exec -it mysql-2 /bin/bash -c 'mysql -uuser1 -pmypa55 -h workstation.lab.example.com -P13306 items -e "insert into Item (description,done) values ("Finished lab",1);"' 
mysql: [Warning] Using a password on the command line interface can be insecure.
mysql  Ver 14.14 Distrib 5.7.24, for Linux (x86_64) using  EditLine wrapper
Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Usage: mysql [OPTIONS] [database]
  -?, --help          Display this help and exit.
  -I, --help          Synonym for -?
  --auto-rehash       Enable automatic rehashing. One doesn't need to use
                      'rehash' to get table and field completion, but startup
                      and reconnecting may take a longer time. Disable with
                      --disable-auto-rehash.
                      (Defaults to on; use --skip-auto-rehash to disable.)
  -A, --no-auto-rehash 
                      No automatic rehashing. One has to use 'rehash' to get
                      table and field completion. This gives a quicker start of
                      mysql and disables rehashing on reconnect.
  --auto-vertical-output 
                      Automatically switch to vertical output mode if the
                      result is wider than the terminal width.
  -B, --batch         Don't use history file. Disable interactive behavior.
                      (Enables --silent.)
  --bind-address=name IP address to bind to.
  --binary-as-hex     Print binary data as hex
  --character-sets-dir=name 
                      Directory for character set files.
  --column-type-info  Display column type information.
  -c, --comments      Preserve comments. Send comments to the server. The
                      default is --skip-comments (discard comments), enable
                      with --comments.
  -C, --compress      Use compression in server/client protocol.
  -#, --debug[=#]     This is a non-debug version. Catch this and exit.
  --debug-check       This is a non-debug version. Catch this and exit.
  -T, --debug-info    This is a non-debug version. Catch this and exit.
  -D, --database=name Database to use.
  --default-character-set=name 
                      Set the default character set.
  --delimiter=name    Delimiter to be used.
  --enable-cleartext-plugin 
                      Enable/disable the clear text authentication plugin.
  -e, --execute=name  Execute command and quit. (Disables --force and history
                      file.)
  -E, --vertical      Print the output of a query (rows) vertically.
  -f, --force         Continue even if we get an SQL error.
  --histignore=name   A colon-separated list of patterns to keep statements
                      from getting logged into syslog and mysql history.
  -G, --named-commands 
                      Enable named commands. Named commands mean this program's
                      internal commands; see mysql> help . When enabled, the
                      named commands can be used from any line of the query,
                      otherwise only from the first line, before an enter.
                      Disable with --disable-named-commands. This option is
                      disabled by default.
  -i, --ignore-spaces Ignore space after function names.
  --init-command=name SQL Command to execute when connecting to MySQL server.
                      Will automatically be re-executed when reconnecting.
  --local-infile      Enable/disable LOAD DATA LOCAL INFILE.
  -b, --no-beep       Turn off beep on error.
  -h, --host=name     Connect to host.
  -H, --html          Produce HTML output.
  -X, --xml           Produce XML output.
  --line-numbers      Write line numbers for errors.
                      (Defaults to on; use --skip-line-numbers to disable.)
  -L, --skip-line-numbers 
                      Don't write line number for errors.
  -n, --unbuffered    Flush buffer after each query.
  --column-names      Write column names in results.
                      (Defaults to on; use --skip-column-names to disable.)
  -N, --skip-column-names 
                      Don't write column names in results.
  --sigint-ignore     Ignore SIGINT (CTRL-C).
  -o, --one-database  Ignore statements except those that occur while the
                      default database is the one named at the command line.
  --pager[=name]      Pager to use to display results. If you don't supply an
                      option, the default pager is taken from your ENV variable
                      PAGER. Valid pagers are less, more, cat [> filename],
                      etc. See interactive help (\h) also. This option does not
                      work in batch mode. Disable with --disable-pager. This
                      option is disabled by default.
  -p, --password[=name] 
                      Password to use when connecting to server. If password is
                      not given it's asked from the tty.
  -P, --port=#        Port number to use for connection or 0 for default to, in
                      order of preference, my.cnf, $MYSQL_TCP_PORT,
                      /etc/services, built-in default (3306).
  --prompt=name       Set the mysql prompt to this value.
  --protocol=name     The protocol to use for connection (tcp, socket, pipe,
                      memory).
  -q, --quick         Don't cache result, print it row by row. This may slow
                      down the server if the output is suspended. Doesn't use
                      history file.
  -r, --raw           Write fields without conversion. Used with --batch.
  --reconnect         Reconnect if the connection is lost. Disable with
                      --disable-reconnect. This option is enabled by default.
                      (Defaults to on; use --skip-reconnect to disable.)
  -s, --silent        Be more silent. Print results with a tab as separator,
                      each row on new line.
  -S, --socket=name   The socket file to use for connection.
  --ssl-mode=name     SSL connection mode.
  --ssl               Deprecated. Use --ssl-mode instead.
                      (Defaults to on; use --skip-ssl to disable.)
  --ssl-verify-server-cert 
                      Deprecated. Use --ssl-mode=VERIFY_IDENTITY instead.
  --ssl-ca=name       CA file in PEM format.
  --ssl-capath=name   CA directory.
  --ssl-cert=name     X509 cert in PEM format.
  --ssl-cipher=name   SSL cipher to use.
  --ssl-key=name      X509 key in PEM format.
  --ssl-crl=name      Certificate revocation list.
  --ssl-crlpath=name  Certificate revocation list path.
  --tls-version=name  TLS version to use, permitted values are: TLSv1, TLSv1.1,
                      TLSv1.2
  --server-public-key-path=name 
                      File path to the server public RSA key in PEM format.
  --get-server-public-key 
                      Get server public key
  -t, --table         Output in table format.
  --tee=name          Append everything into outfile. See interactive help (\h)
                      also. Does not work in batch mode. Disable with
                      --disable-tee. This option is disabled by default.
  -u, --user=name     User for login if not current user.
  -U, --safe-updates  Only allow UPDATE and DELETE that uses keys.
  -U, --i-am-a-dummy  Synonym for option --safe-updates, -U.
  -v, --verbose       Write more. (-v -v -v gives the table output format).
  -V, --version       Output version information and exit.
  -w, --wait          Wait and retry if connection is down.
  --connect-timeout=# Number of seconds before connection timeout.
  --max-allowed-packet=# 
                      The maximum packet length to send to or receive from
                      server.
  --net-buffer-length=# 
                      The buffer size for TCP/IP and socket communication.
  --select-limit=#    Automatic limit for SELECT when using --safe-updates.
  --max-join-size=#   Automatic limit for rows in a join when using
                      --safe-updates.
  --secure-auth       Refuse client connecting to server if it uses old
                      (pre-4.1.1) protocol. Deprecated. Always TRUE
  --server-arg=name   Send embedded server this as a parameter.
  --show-warnings     Show warnings after every statement.
  -j, --syslog        Log filtered interactive commands to syslog. Filtering of
                      commands depends on the patterns supplied via histignore
                      option besides the default patterns.
  --plugin-dir=name   Directory for client-side plugins.
  --default-auth=name Default authentication client-side plugin to use.
  --binary-mode       By default, ASCII '\0' is disallowed and '\r\n' is
                      translated to '\n'. This switch turns off both features,
                      and also turns off parsing of all clientcommands except
                      \C and DELIMITER, in non-interactive mode (for input
                      piped to mysql or loaded using the 'source' command).
                      This is necessary when processing output from mysqlbinlog
                      that may contain blobs.
  --connect-expired-password 
                      Notify the server that this client is prepared to handle
                      expired password sandbox mode.

Default options are read from the following files in the given order:
/etc/opt/rh/rh-mysql57/my.cnf /etc/opt/rh/rh-mysql57/mysql/my.cnf ~/.my.cnf 
The following groups are read: mysql client
The following options may be given as the first argument:
--print-defaults        Print the program argument list and exit.
--no-defaults           Don't read default options from any option file,
                        except for login file.
--defaults-file=#       Only read default options from the given file #.
--defaults-extra-file=# Read this file after the global files are read.
--defaults-group-suffix=#
                        Also read groups with concat(group, suffix)
--login-path=#          Read this path from the login file.

Variables (--variable-name=value)
and boolean options {FALSE|TRUE}  Value (after reading options)
--------------------------------- ----------------------------------------
auto-rehash                       FALSE
auto-vertical-output              FALSE
bind-address                      (No default value)
binary-as-hex                     FALSE
character-sets-dir                (No default value)
column-type-info                  FALSE
comments                          FALSE
compress                          FALSE
database                          (No default value)
default-character-set             auto
delimiter                         ;
enable-cleartext-plugin           FALSE
vertical                          FALSE
force                             FALSE
histignore                        (No default value)
named-commands                    FALSE
ignore-spaces                     FALSE
init-command                      (No default value)
local-infile                      FALSE
no-beep                           FALSE
host                              workstation.lab.example.com
html                              FALSE
xml                               FALSE
line-numbers                      TRUE
unbuffered                        FALSE
column-names                      TRUE
sigint-ignore                     FALSE
port                              13306
prompt                            mysql> 
quick                             FALSE
raw                               FALSE
reconnect                         FALSE
socket                            (No default value)
ssl                               TRUE
ssl-verify-server-cert            FALSE
ssl-ca                            (No default value)
ssl-capath                        (No default value)
ssl-cert                          (No default value)
ssl-cipher                        (No default value)
ssl-key                           (No default value)
ssl-crl                           (No default value)
ssl-crlpath                       (No default value)
tls-version                       (No default value)
server-public-key-path            (No default value)
get-server-public-key             FALSE
table                             FALSE
user                              user1
safe-updates                      FALSE
i-am-a-dummy                      FALSE
connect-timeout                   0
max-allowed-packet                16777216
net-buffer-length                 16384
select-limit                      1000
max-join-size                     1000000
secure-auth                       TRUE
show-warnings                     FALSE
plugin-dir                        (No default value)
default-auth                      (No default value)
binary-mode                       FALSE
connect-expired-password          FALSE
exit status 1
[student@workstation DO180-apps]$ sudo podman exec -it mysql-2 /bin/bash -c 'mysql -uuser1 -pmypa55 -h workstation.lab.example.com -P13306 items -e "insert into Item (description,done) values ('Finished lab',1);"' 
lab,1);": -c: line 0: unexpected EOF while looking for matching `"'
lab,1);": -c: line 1: syntax error: unexpected end of file
exit status 1
[student@workstation DO180-apps]$ sudo podman exec mysql-2 /bin/bash -c 'mysql -uuser1 -pmypa55 -e "select * from items.Projects;"'
mysql: [Warning] Using a password on the command line interface can be insecure.
ERROR 1146 (42S02) at line 1: Table 'items.Projects' doesn't exist
exit status 1
[student@workstation DO180-apps]$ sudo podman exec  mysql-2 /bin/bash -c 'mysql -uuser1 -pmypa55 -h workstation.lab.example.com -P13306 items -e "insert into Item (description,done) values ('Finished lab',1);"' 
lab,1);": -c: line 0: unexpected EOF while looking for matching `"'
lab,1);": -c: line 1: syntax error: unexpected end of file
exit status 1
[student@workstation DO180-apps]$ sudo podman exec  mysql-2 /bin/bash -c 'mysql -uuser1 -pmypa55 -h workstation.lab.example.com -P13306 items -e "insert into Item (description,done) values ("Finished lab",1);"' 
mysql: [Warning] Using a password on the command line interface can be insecure.
mysql  Ver 14.14 Distrib 5.7.24, for Linux (x86_64) using  EditLine wrapper
Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Usage: mysql [OPTIONS] [database]
  -?, --help          Display this help and exit.
  -I, --help          Synonym for -?
  --auto-rehash       Enable automatic rehashing. One doesn't need to use
                      'rehash' to get table and field completion, but startup
                      and reconnecting may take a longer time. Disable with
                      --disable-auto-rehash.
                      (Defaults to on; use --skip-auto-rehash to disable.)
  -A, --no-auto-rehash 
                      No automatic rehashing. One has to use 'rehash' to get
                      table and field completion. This gives a quicker start of
                      mysql and disables rehashing on reconnect.
  --auto-vertical-output 
                      Automatically switch to vertical output mode if the
                      result is wider than the terminal width.
  -B, --batch         Don't use history file. Disable interactive behavior.
                      (Enables --silent.)
  --bind-address=name IP address to bind to.
  --binary-as-hex     Print binary data as hex
  --character-sets-dir=name 
                      Directory for character set files.
  --column-type-info  Display column type information.
  -c, --comments      Preserve comments. Send comments to the server. The
                      default is --skip-comments (discard comments), enable
                      with --comments.
  -C, --compress      Use compression in server/client protocol.
  -#, --debug[=#]     This is a non-debug version. Catch this and exit.
  --debug-check       This is a non-debug version. Catch this and exit.
  -T, --debug-info    This is a non-debug version. Catch this and exit.
  -D, --database=name Database to use.
  --default-character-set=name 
                      Set the default character set.
  --delimiter=name    Delimiter to be used.
  --enable-cleartext-plugin 
                      Enable/disable the clear text authentication plugin.
  -e, --execute=name  Execute command and quit. (Disables --force and history
                      file.)
  -E, --vertical      Print the output of a query (rows) vertically.
  -f, --force         Continue even if we get an SQL error.
  --histignore=name   A colon-separated list of patterns to keep statements
                      from getting logged into syslog and mysql history.
  -G, --named-commands 
                      Enable named commands. Named commands mean this program's
                      internal commands; see mysql> help . When enabled, the
                      named commands can be used from any line of the query,
                      otherwise only from the first line, before an enter.
                      Disable with --disable-named-commands. This option is
                      disabled by default.
  -i, --ignore-spaces Ignore space after function names.
  --init-command=name SQL Command to execute when connecting to MySQL server.
                      Will automatically be re-executed when reconnecting.
  --local-infile      Enable/disable LOAD DATA LOCAL INFILE.
  -b, --no-beep       Turn off beep on error.
  -h, --host=name     Connect to host.
  -H, --html          Produce HTML output.
  -X, --xml           Produce XML output.
  --line-numbers      Write line numbers for errors.
                      (Defaults to on; use --skip-line-numbers to disable.)
  -L, --skip-line-numbers 
                      Don't write line number for errors.
  -n, --unbuffered    Flush buffer after each query.
  --column-names      Write column names in results.
                      (Defaults to on; use --skip-column-names to disable.)
  -N, --skip-column-names 
                      Don't write column names in results.
  --sigint-ignore     Ignore SIGINT (CTRL-C).
  -o, --one-database  Ignore statements except those that occur while the
                      default database is the one named at the command line.
  --pager[=name]      Pager to use to display results. If you don't supply an
                      option, the default pager is taken from your ENV variable
                      PAGER. Valid pagers are less, more, cat [> filename],
                      etc. See interactive help (\h) also. This option does not
                      work in batch mode. Disable with --disable-pager. This
                      option is disabled by default.
  -p, --password[=name] 
                      Password to use when connecting to server. If password is
                      not given it's asked from the tty.
  -P, --port=#        Port number to use for connection or 0 for default to, in
                      order of preference, my.cnf, $MYSQL_TCP_PORT,
                      /etc/services, built-in default (3306).
  --prompt=name       Set the mysql prompt to this value.
  --protocol=name     The protocol to use for connection (tcp, socket, pipe,
                      memory).
  -q, --quick         Don't cache result, print it row by row. This may slow
                      down the server if the output is suspended. Doesn't use
                      history file.
  -r, --raw           Write fields without conversion. Used with --batch.
  --reconnect         Reconnect if the connection is lost. Disable with
                      --disable-reconnect. This option is enabled by default.
                      (Defaults to on; use --skip-reconnect to disable.)
  -s, --silent        Be more silent. Print results with a tab as separator,
                      each row on new line.
  -S, --socket=name   The socket file to use for connection.
  --ssl-mode=name     SSL connection mode.
  --ssl               Deprecated. Use --ssl-mode instead.
                      (Defaults to on; use --skip-ssl to disable.)
  --ssl-verify-server-cert 
                      Deprecated. Use --ssl-mode=VERIFY_IDENTITY instead.
  --ssl-ca=name       CA file in PEM format.
  --ssl-capath=name   CA directory.
  --ssl-cert=name     X509 cert in PEM format.
  --ssl-cipher=name   SSL cipher to use.
  --ssl-key=name      X509 key in PEM format.
  --ssl-crl=name      Certificate revocation list.
  --ssl-crlpath=name  Certificate revocation list path.
  --tls-version=name  TLS version to use, permitted values are: TLSv1, TLSv1.1,
                      TLSv1.2
  --server-public-key-path=name 
                      File path to the server public RSA key in PEM format.
  --get-server-public-key 
                      Get server public key
  -t, --table         Output in table format.
  --tee=name          Append everything into outfile. See interactive help (\h)
                      also. Does not work in batch mode. Disable with
                      --disable-tee. This option is disabled by default.
  -u, --user=name     User for login if not current user.
  -U, --safe-updates  Only allow UPDATE and DELETE that uses keys.
  -U, --i-am-a-dummy  Synonym for option --safe-updates, -U.
  -v, --verbose       Write more. (-v -v -v gives the table output format).
  -V, --version       Output version information and exit.
  -w, --wait          Wait and retry if connection is down.
  --connect-timeout=# Number of seconds before connection timeout.
  --max-allowed-packet=# 
                      The maximum packet length to send to or receive from
                      server.
  --net-buffer-length=# 
                      The buffer size for TCP/IP and socket communication.
  --select-limit=#    Automatic limit for SELECT when using --safe-updates.
  --max-join-size=#   Automatic limit for rows in a join when using
                      --safe-updates.
  --secure-auth       Refuse client connecting to server if it uses old
                      (pre-4.1.1) protocol. Deprecated. Always TRUE
  --server-arg=name   Send embedded server this as a parameter.
  --show-warnings     Show warnings after every statement.
  -j, --syslog        Log filtered interactive commands to syslog. Filtering of
                      commands depends on the patterns supplied via histignore
                      option besides the default patterns.
  --plugin-dir=name   Directory for client-side plugins.
  --default-auth=name Default authentication client-side plugin to use.
  --binary-mode       By default, ASCII '\0' is disallowed and '\r\n' is
                      translated to '\n'. This switch turns off both features,
                      and also turns off parsing of all clientcommands except
                      \C and DELIMITER, in non-interactive mode (for input
                      piped to mysql or loaded using the 'source' command).
                      This is necessary when processing output from mysqlbinlog
                      that may contain blobs.
  --connect-expired-password 
                      Notify the server that this client is prepared to handle
                      expired password sandbox mode.

Default options are read from the following files in the given order:
/etc/opt/rh/rh-mysql57/my.cnf /etc/opt/rh/rh-mysql57/mysql/my.cnf ~/.my.cnf 
The following groups are read: mysql client
The following options may be given as the first argument:
--print-defaults        Print the program argument list and exit.
--no-defaults           Don't read default options from any option file,
                        except for login file.
--defaults-file=#       Only read default options from the given file #.
--defaults-extra-file=# Read this file after the global files are read.
--defaults-group-suffix=#
                        Also read groups with concat(group, suffix)
--login-path=#          Read this path from the login file.

Variables (--variable-name=value)
and boolean options {FALSE|TRUE}  Value (after reading options)
--------------------------------- ----------------------------------------
auto-rehash                       FALSE
auto-vertical-output              FALSE
bind-address                      (No default value)
binary-as-hex                     FALSE
character-sets-dir                (No default value)
column-type-info                  FALSE
comments                          FALSE
compress                          FALSE
database                          (No default value)
default-character-set             auto
delimiter                         ;
enable-cleartext-plugin           FALSE
vertical                          FALSE
force                             FALSE
histignore                        (No default value)
named-commands                    FALSE
ignore-spaces                     FALSE
init-command                      (No default value)
local-infile                      FALSE
no-beep                           FALSE
host                              workstation.lab.example.com
html                              FALSE
xml                               FALSE
line-numbers                      TRUE
unbuffered                        FALSE
column-names                      TRUE
sigint-ignore                     FALSE
port                              13306
prompt                            mysql> 
quick                             FALSE
raw                               FALSE
reconnect                         FALSE
socket                            (No default value)
ssl                               TRUE
ssl-verify-server-cert            FALSE
ssl-ca                            (No default value)
ssl-capath                        (No default value)
ssl-cert                          (No default value)
ssl-cipher                        (No default value)
ssl-key                           (No default value)
ssl-crl                           (No default value)
ssl-crlpath                       (No default value)
tls-version                       (No default value)
server-public-key-path            (No default value)
get-server-public-key             FALSE
table                             FALSE
user                              user1
safe-updates                      FALSE
i-am-a-dummy                      FALSE
connect-timeout                   0
max-allowed-packet                16777216
net-buffer-length                 16384
select-limit                      1000
max-join-size                     1000000
secure-auth                       TRUE
show-warnings                     FALSE
plugin-dir                        (No default value)
default-auth                      (No default value)
binary-mode                       FALSE
connect-expired-password          FALSE
exit status 1
[student@workstation DO180-apps]$ sudo podman exec  mysql-2 /bin/bash -c 'mysql -uuser1 -pmypa55 -h workstation.lab.example.com -P13306 items -e "insert into items.Item (description,done) values ("Finished lab",1);"' 
mysql: [Warning] Using a password on the command line interface can be insecure.
mysql  Ver 14.14 Distrib 5.7.24, for Linux (x86_64) using  EditLine wrapper
Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Usage: mysql [OPTIONS] [database]
  -?, --help          Display this help and exit.
  -I, --help          Synonym for -?
  --auto-rehash       Enable automatic rehashing. One doesn't need to use
                      'rehash' to get table and field completion, but startup
                      and reconnecting may take a longer time. Disable with
                      --disable-auto-rehash.
                      (Defaults to on; use --skip-auto-rehash to disable.)
  -A, --no-auto-rehash 
                      No automatic rehashing. One has to use 'rehash' to get
                      table and field completion. This gives a quicker start of
                      mysql and disables rehashing on reconnect.
  --auto-vertical-output 
                      Automatically switch to vertical output mode if the
                      result is wider than the terminal width.
  -B, --batch         Don't use history file. Disable interactive behavior.
                      (Enables --silent.)
  --bind-address=name IP address to bind to.
  --binary-as-hex     Print binary data as hex
  --character-sets-dir=name 
                      Directory for character set files.
  --column-type-info  Display column type information.
  -c, --comments      Preserve comments. Send comments to the server. The
                      default is --skip-comments (discard comments), enable
                      with --comments.
  -C, --compress      Use compression in server/client protocol.
  -#, --debug[=#]     This is a non-debug version. Catch this and exit.
  --debug-check       This is a non-debug version. Catch this and exit.
  -T, --debug-info    This is a non-debug version. Catch this and exit.
  -D, --database=name Database to use.
  --default-character-set=name 
                      Set the default character set.
  --delimiter=name    Delimiter to be used.
  --enable-cleartext-plugin 
                      Enable/disable the clear text authentication plugin.
  -e, --execute=name  Execute command and quit. (Disables --force and history
                      file.)
  -E, --vertical      Print the output of a query (rows) vertically.
  -f, --force         Continue even if we get an SQL error.
  --histignore=name   A colon-separated list of patterns to keep statements
                      from getting logged into syslog and mysql history.
  -G, --named-commands 
                      Enable named commands. Named commands mean this program's
                      internal commands; see mysql> help . When enabled, the
                      named commands can be used from any line of the query,
                      otherwise only from the first line, before an enter.
                      Disable with --disable-named-commands. This option is
                      disabled by default.
  -i, --ignore-spaces Ignore space after function names.
  --init-command=name SQL Command to execute when connecting to MySQL server.
                      Will automatically be re-executed when reconnecting.
  --local-infile      Enable/disable LOAD DATA LOCAL INFILE.
  -b, --no-beep       Turn off beep on error.
  -h, --host=name     Connect to host.
  -H, --html          Produce HTML output.
  -X, --xml           Produce XML output.
  --line-numbers      Write line numbers for errors.
                      (Defaults to on; use --skip-line-numbers to disable.)
  -L, --skip-line-numbers 
                      Don't write line number for errors.
  -n, --unbuffered    Flush buffer after each query.
  --column-names      Write column names in results.
                      (Defaults to on; use --skip-column-names to disable.)
  -N, --skip-column-names 
                      Don't write column names in results.
  --sigint-ignore     Ignore SIGINT (CTRL-C).
  -o, --one-database  Ignore statements except those that occur while the
                      default database is the one named at the command line.
  --pager[=name]      Pager to use to display results. If you don't supply an
                      option, the default pager is taken from your ENV variable
                      PAGER. Valid pagers are less, more, cat [> filename],
                      etc. See interactive help (\h) also. This option does not
                      work in batch mode. Disable with --disable-pager. This
                      option is disabled by default.
  -p, --password[=name] 
                      Password to use when connecting to server. If password is
                      not given it's asked from the tty.
  -P, --port=#        Port number to use for connection or 0 for default to, in
                      order of preference, my.cnf, $MYSQL_TCP_PORT,
                      /etc/services, built-in default (3306).
  --prompt=name       Set the mysql prompt to this value.
  --protocol=name     The protocol to use for connection (tcp, socket, pipe,
                      memory).
  -q, --quick         Don't cache result, print it row by row. This may slow
                      down the server if the output is suspended. Doesn't use
                      history file.
  -r, --raw           Write fields without conversion. Used with --batch.
  --reconnect         Reconnect if the connection is lost. Disable with
                      --disable-reconnect. This option is enabled by default.
                      (Defaults to on; use --skip-reconnect to disable.)
  -s, --silent        Be more silent. Print results with a tab as separator,
                      each row on new line.
  -S, --socket=name   The socket file to use for connection.
  --ssl-mode=name     SSL connection mode.
  --ssl               Deprecated. Use --ssl-mode instead.
                      (Defaults to on; use --skip-ssl to disable.)
  --ssl-verify-server-cert 
                      Deprecated. Use --ssl-mode=VERIFY_IDENTITY instead.
  --ssl-ca=name       CA file in PEM format.
  --ssl-capath=name   CA directory.
  --ssl-cert=name     X509 cert in PEM format.
  --ssl-cipher=name   SSL cipher to use.
  --ssl-key=name      X509 key in PEM format.
  --ssl-crl=name      Certificate revocation list.
  --ssl-crlpath=name  Certificate revocation list path.
  --tls-version=name  TLS version to use, permitted values are: TLSv1, TLSv1.1,
                      TLSv1.2
  --server-public-key-path=name 
                      File path to the server public RSA key in PEM format.
  --get-server-public-key 
                      Get server public key
  -t, --table         Output in table format.
  --tee=name          Append everything into outfile. See interactive help (\h)
                      also. Does not work in batch mode. Disable with
                      --disable-tee. This option is disabled by default.
  -u, --user=name     User for login if not current user.
  -U, --safe-updates  Only allow UPDATE and DELETE that uses keys.
  -U, --i-am-a-dummy  Synonym for option --safe-updates, -U.
  -v, --verbose       Write more. (-v -v -v gives the table output format).
  -V, --version       Output version information and exit.
  -w, --wait          Wait and retry if connection is down.
  --connect-timeout=# Number of seconds before connection timeout.
  --max-allowed-packet=# 
                      The maximum packet length to send to or receive from
                      server.
  --net-buffer-length=# 
                      The buffer size for TCP/IP and socket communication.
  --select-limit=#    Automatic limit for SELECT when using --safe-updates.
  --max-join-size=#   Automatic limit for rows in a join when using
                      --safe-updates.
  --secure-auth       Refuse client connecting to server if it uses old
                      (pre-4.1.1) protocol. Deprecated. Always TRUE
  --server-arg=name   Send embedded server this as a parameter.
  --show-warnings     Show warnings after every statement.
  -j, --syslog        Log filtered interactive commands to syslog. Filtering of
                      commands depends on the patterns supplied via histignore
                      option besides the default patterns.
  --plugin-dir=name   Directory for client-side plugins.
  --default-auth=name Default authentication client-side plugin to use.
  --binary-mode       By default, ASCII '\0' is disallowed and '\r\n' is
                      translated to '\n'. This switch turns off both features,
                      and also turns off parsing of all clientcommands except
                      \C and DELIMITER, in non-interactive mode (for input
                      piped to mysql or loaded using the 'source' command).
                      This is necessary when processing output from mysqlbinlog
                      that may contain blobs.
  --connect-expired-password 
                      Notify the server that this client is prepared to handle
                      expired password sandbox mode.

Default options are read from the following files in the given order:
/etc/opt/rh/rh-mysql57/my.cnf /etc/opt/rh/rh-mysql57/mysql/my.cnf ~/.my.cnf 
The following groups are read: mysql client
The following options may be given as the first argument:
--print-defaults        Print the program argument list and exit.
--no-defaults           Don't read default options from any option file,
                        except for login file.
--defaults-file=#       Only read default options from the given file #.
--defaults-extra-file=# Read this file after the global files are read.
--defaults-group-suffix=#
                        Also read groups with concat(group, suffix)
--login-path=#          Read this path from the login file.

Variables (--variable-name=value)
and boolean options {FALSE|TRUE}  Value (after reading options)
--------------------------------- ----------------------------------------
auto-rehash                       FALSE
auto-vertical-output              FALSE
bind-address                      (No default value)
binary-as-hex                     FALSE
character-sets-dir                (No default value)
column-type-info                  FALSE
comments                          FALSE
compress                          FALSE
database                          (No default value)
default-character-set             auto
delimiter                         ;
enable-cleartext-plugin           FALSE
vertical                          FALSE
force                             FALSE
histignore                        (No default value)
named-commands                    FALSE
ignore-spaces                     FALSE
init-command                      (No default value)
local-infile                      FALSE
no-beep                           FALSE
host                              workstation.lab.example.com
html                              FALSE
xml                               FALSE
line-numbers                      TRUE
unbuffered                        FALSE
column-names                      TRUE
sigint-ignore                     FALSE
port                              13306
prompt                            mysql> 
quick                             FALSE
raw                               FALSE
reconnect                         FALSE
socket                            (No default value)
ssl                               TRUE
ssl-verify-server-cert            FALSE
ssl-ca                            (No default value)
ssl-capath                        (No default value)
ssl-cert                          (No default value)
ssl-cipher                        (No default value)
ssl-key                           (No default value)
ssl-crl                           (No default value)
ssl-crlpath                       (No default value)
tls-version                       (No default value)
server-public-key-path            (No default value)
get-server-public-key             FALSE
table                             FALSE
user                              user1
safe-updates                      FALSE
i-am-a-dummy                      FALSE
connect-timeout                   0
max-allowed-packet                16777216
net-buffer-length                 16384
select-limit                      1000
max-join-size                     1000000
secure-auth                       TRUE
show-warnings                     FALSE
plugin-dir                        (No default value)
default-auth                      (No default value)
binary-mode                       FALSE
connect-expired-password          FALSE
exit status 1
[student@workstation DO180-apps]$ sudo podman exec  mysql-2 /bin/bash -c 'mysql -uuser1 -pmypa55 -h workstation.lab.example.com -P13306 -e "insert into items.Item (description,done) values ("Finished lab",1);"' 
mysql: [Warning] Using a password on the command line interface can be insecure.
ERROR 1044 (42000): Access denied for user 'user1'@'%' to database 'lab,1);'
exit status 1
[student@workstation DO180-apps]$ sudo podman exec  mysql-2 /bin/bash -c 'mysql -uuser1 -pmypa55 -h workstation.lab.example.com -P13306 -e "insert into item^CItem (description,done) values ("Finished lab",1);"' 
[student@workstation DO180-apps]$ mysql -uuser1 -h workstation.lab.example.com -pmypa55 -P13306 items
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MySQL connection id is 12
Server version: 5.7.24 MySQL Community Server (GPL)

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MySQL [items]> insert into items.Item (description,done) values ("Finished lab",1);
Query OK, 1 row affected (0.01 sec)

MySQL [items]> exit
Bye
[student@workstation DO180-apps]$ sudo podman rm mysql-1
b0c23adfd1f135878bbc1e6af04aa68c68fb52015587595f09f815d3f6645276
[student@workstation DO180-apps]$ lab manage-review grade 

Grading the student's work for the Lab: Managing Containers

 · Checking if the /var/local/mysql folder exists..............  PASS
 · Checking if owner was changed...............................  PASS
 · Checking if the container mysql-1 was created...............  FAIL
 · Checking if the mysql-2 container is running................  PASS
 · Checking tables for the 'Finished lab' row..................  PASS
[student@workstation DO180-apps]$ lab manage-review finish 

Completing the Lab: Managing Containers

 · Removing the /var/local/mysql folder........................  SUCCESS
 · Removing the fcontext for /var/local/mysql..................  SUCCESS
 · Stopping mysql-1 container..................................  SUCCESS
 · Removing mysql-1 container..................................  SUCCESS
 · Stopping mysql-2 container..................................  SUCCESS
 · Removing mysql-2 container..................................  SUCCESS
 · Removing MySQL container image..............................  SUCCESS
 · Removing temporary file.....................................  SUCCESS
[student@workstation DO180-apps]$ 


==============================
#4. Lab: Managing Images
=============================
[student@workstation DO180-apps]$ sudo podman search docker.io/nginx
INDEX       NAME                                         DESCRIPTION                                       STARS   OFFICIAL   AUTOMATED
docker.io   docker.io/library/nginx                      Official build of Nginx.                          13543   [OK]       
docker.io   docker.io/jwilder/nginx-proxy                Automated Nginx reverse proxy for docker con...   1851               [OK]
docker.io   docker.io/bitnami/nginx                      Bitnami nginx Docker Image                        88                 [OK]
docker.io   docker.io/richarvey/nginx-php-fpm            Container running Nginx + PHP-FPM capable of...   780                [OK]
docker.io   docker.io/nginx/nginx-ingress                NGINX Ingress Controller for Kubernetes           37                 
docker.io   docker.io/nginxinc/nginx-unprivileged        Unprivileged NGINX Dockerfiles                    16                 
docker.io   docker.io/nginxdemos/hello                   NGINX webserver that serves a simple page co...   58                 [OK]
docker.io   docker.io/mailu/nginx                        Mailu nginx frontend                              7                  [OK]
docker.io   docker.io/linuxserver/nginx                  An Nginx container, brought to you by LinuxS...   123                
docker.io   docker.io/jlesage/nginx-proxy-manager        Docker container for Nginx Proxy Manager          53                 [OK]
docker.io   docker.io/privatebin/nginx-fpm-alpine        PrivateBin running on an Nginx, php-fpm & Al...   31                 [OK]
docker.io   docker.io/nginx/nginx-prometheus-exporter    NGINX Prometheus Exporter                         14                 
docker.io   docker.io/schmunk42/nginx-redirect           A very simple container to redirect HTTP tra...   18                 [OK]
docker.io   docker.io/bitnami/nginx-ingress-controller   Bitnami Docker Image for NGINX Ingress Contr...   6                  [OK]
docker.io   docker.io/wodby/nginx                        Generic nginx                                     1                  [OK]
docker.io   docker.io/ansibleplaybookbundle/nginx-apb    An APB to deploy NGINX                            1                  [OK]
docker.io   docker.io/jc21/nginx-proxy-manager           Docker container for managing Nginx proxy ho...   74                 
docker.io   docker.io/centos/nginx-112-centos7           Platform for running nginx 1.12 or building ...   13                 
docker.io   docker.io/centos/nginx-18-centos7            Platform for running nginx 1.8 or building n...   13                 
docker.io   docker.io/tiangolo/nginx-rtmp                Docker image with Nginx using the nginx-rtmp...   85                 [OK]
docker.io   docker.io/alfg/nginx-rtmp                    NGINX, nginx-rtmp-module and FFmpeg from sou...   71                 [OK]
docker.io   docker.io/raulr/nginx-wordpress              Nginx front-end for the official wordpress:f...   13                 [OK]
docker.io   docker.io/sophos/nginx-vts-exporter          Simple server that scrapes Nginx vts stats a...   7                  [OK]
docker.io   docker.io/bitwarden/nginx                    The Bitwarden nginx web server acting as a r...   7                  
docker.io   docker.io/flashspys/nginx-static             Super Lightweight Nginx Image                     6                  [OK]
[student@workstation DO180-apps]$ sudo podman pull docker.io/nginx:1.17
Trying to pull docker.io/nginx:1.17...Getting image source signatures
Copying blob sha256:afb6ec6fdc1c3ba04f7a56db32c5ff5ff38962dc4cd0ffdef5beaa0ce2eb77e2
 25.84 MB / 25.84 MB [======================================================] 1s
Copying blob sha256:b90c53a0b69244e37b3f8672579fc3dec13293eeb574fa0fdddf02da1e192fd6
 22.81 MB / 22.81 MB [======================================================] 0s
Copying blob sha256:11fa52a0fdc084d7fc3bbcb774389fd37b148ee98e7829cea4af189735acf848
 203 B / 203 B [============================================================] 0s
Copying config sha256:9beeba249f3ee158d3e495a6ac25c5667ae2de8a43ac2a8bfd2bf687a58c06c9
 6.51 KB / 6.51 KB [========================================================] 0s
Writing manifest to image destination
Storing signatures
9beeba249f3ee158d3e495a6ac25c5667ae2de8a43ac2a8bfd2bf687a58c06c9
[student@workstation DO180-apps]$ sudo podman images
REPOSITORY                TAG    IMAGE ID       CREATED        SIZE
docker.io/library/nginx   1.17   9beeba249f3e   2 months ago   131MB
[student@workstation DO180-apps]$ sudo podman run --name official-nginx -d -p 8080:80 docker.io/nginx:1.17
6ec0c775ee699f629dd2021b8662393dab3ea16354a433bde57aa07a2289e386
[student@workstation DO180-apps]$ sudo podman exec -it official-nginx /bin/bash
root@6ec0c775ee69:/# echo "DO180" >/usr/share/nginx/html/index.html 
root@6ec0c775ee69:/# exit
exit
[student@workstation DO180-apps]$ curl 127.0.0.1:8080
DO180
[student@workstation DO180-apps]$ sudo postman stop official-nginx
sudo: postman: command not found
[student@workstation DO180-apps]$ sudo podman stop official-nginx
6ec0c775ee699f629dd2021b8662393dab3ea16354a433bde57aa07a2289e386
[student@workstation DO180-apps]$ sudo podman run --name official-nginx -d -p 8080:80 docker.io/nginx:1.17^C
[student@workstation DO180-apps]$ sudo podman commit -a 'Sila' official-nginx do180/mynginx:v1.0-SNAPSHOT
Getting image source signatures
Skipping fetch of repeat blob sha256:ffc9b21953f4cd7956cdf532a5db04ff0a2daa7475ad796f1bad58cfbaf77a07
Skipping fetch of repeat blob sha256:2f4accd375d93db49e5a47c9bebe4e0dd3cef35f765f5cd36840a986435affc9
Skipping fetch of repeat blob sha256:6c7de695ede33d90077f01d60ec29e6a51552a3e350757018ff1b1ecd6cee0bf
Copying blob sha256:1ef6da3415cddc44118baaa9ac0367a808aca09709474510aea0fa80bd6cc12f
 12.00 KB / 12.00 KB [======================================================] 0s
Copying config sha256:4e85d833b2a69da9a5b03b509f82051949cb88e4baedd6c0f4233f775b3d67a6
 5.63 KB / 5.63 KB [========================================================] 0s
Writing manifest to image destination
Storing signatures
4e85d833b2a69da9a5b03b509f82051949cb88e4baedd6c0f4233f775b3d67a6
[student@workstation DO180-apps]$ sudo su -
[root@workstation ~]# podman ps
[root@workstation ~]# exit
logout
[student@workstation DO180-apps]$ sudo podman ps
[student@workstation DO180-apps]$ sudo su -
Last login: Sat Aug  1 17:52:24 UTC 2020 on pts/0
[root@workstation ~]# podman images
REPOSITORY                TAG             IMAGE ID       CREATED          SIZE
localhost/do180/mynginx   v1.0-SNAPSHOT   4e85d833b2a6   45 seconds ago   131MB
docker.io/library/nginx   1.17            9beeba249f3e   2 months ago     131MB
[root@workstation ~]# exit
logout
[student@workstation DO180-apps]$ sudo podman run --name official-nginx-dev -d -p 8080:80 do180/mynginx:v1.0-SNAPSHOT
930e1a87fd36e7fafcb270c5c081bc417bd56bed3c736035df6a5dae9da4a34a
[student@workstation DO180-apps]$ sudo podman exec -it official-nginx-dev /bin/bash
root@930e1a87fd36:/# echo "DO180 Page" >/usr/share/nginx/html/index.html 
root@930e1a87fd36:/# exit
exit
[student@workstation DO180-apps]$ history |grep curl
   18  curl http://localhost:8080
  143  curl 127.0.0.1:8080
  152  history |grep curl
[student@workstation DO180-apps]$ !143
curl 127.0.0.1:8080
DO180 Page
[student@workstation DO180-apps]$ sudo podman stop official-nginx-dev
930e1a87fd36e7fafcb270c5c081bc417bd56bed3c736035df6a5dae9da4a34a
[student@workstation DO180-apps]$ sudo podman commit -a 'Sila' do180/mynginx:v1.0
you must provide a container name or ID and a target image name
[student@workstation DO180-apps]$ sudo podman commit -a 'Sila' official-nginx-dev do180/mynginx:v1.0
Getting image source signatures
Skipping fetch of repeat blob sha256:ffc9b21953f4cd7956cdf532a5db04ff0a2daa7475ad796f1bad58cfbaf77a07
Skipping fetch of repeat blob sha256:2f4accd375d93db49e5a47c9bebe4e0dd3cef35f765f5cd36840a986435affc9
Skipping fetch of repeat blob sha256:6c7de695ede33d90077f01d60ec29e6a51552a3e350757018ff1b1ecd6cee0bf
Skipping fetch of repeat blob sha256:1ef6da3415cddc44118baaa9ac0367a808aca09709474510aea0fa80bd6cc12f
Copying blob sha256:bb7b1abf3ef2925c803efedf30317c88b063ae0ba12c896d18a5bd6cfbfff18a
 6.00 KB / 6.00 KB [========================================================] 0s
Copying config sha256:16c8fbada55a9b7802b2489fca144c58a76c6662258b61b2b3a4c0e7ef55197d
 5.76 KB / 5.76 KB [========================================================] 0s
Writing manifest to image destination
Storing signatures
16c8fbada55a9b7802b2489fca144c58a76c6662258b61b2b3a4c0e7ef55197d
[student@workstation DO180-apps]$ sudo podman images
REPOSITORY                TAG             IMAGE ID       CREATED          SIZE
localhost/do180/mynginx   v1.0            16c8fbada55a   23 seconds ago   131MB
localhost/do180/mynginx   v1.0-SNAPSHOT   4e85d833b2a6   5 minutes ago    131MB
docker.io/library/nginx   1.17            9beeba249f3e   2 months ago     131MB
[student@workstation DO180-apps]$ sudo podman ps -a
CONTAINER ID   IMAGE                                   COMMAND                CREATED          STATUS                     PORTS                  NAMES                IS INFRA
930e1a87fd36   localhost/do180/mynginx:v1.0-SNAPSHOT   nginx -g daemon off;   4 minutes ago    Exited (0) 2 minutes ago   0.0.0.0:8080->80/tcp   official-nginx-dev   false
6ec0c775ee69   docker.io/library/nginx:1.17            nginx -g daemon off;   10 minutes ago   Exited (0) 8 minutes ago   0.0.0.0:8080->80/tcp   official-nginx       false
[student@workstation DO180-apps]$ sudo podman ps -a --format="{{.ID}} {{.Names}} {{.Status}}"
930e1a87fd36   official-nginx-dev   Exited (0) 3 minutes ago
6ec0c775ee69   official-nginx       Exited (0) 9 minutes ago
[student@workstation DO180-apps]$ sudo podman rm official-nginx-dev
930e1a87fd36e7fafcb270c5c081bc417bd56bed3c736035df6a5dae9da4a34a
[student@workstation DO180-apps]$ sudo podman ps -a --format="{{.ID}} {{.Names}} {{.Status}}"
6ec0c775ee69   official-nginx   Exited (0) 9 minutes ago
[student@workstation DO180-apps]$ sudo podman rm official-nginx-dev^C
[student@workstation DO180-apps]$ sudo postman images
sudo: postman: command not found
[student@workstation DO180-apps]$ sudo podman images
REPOSITORY                TAG             IMAGE ID       CREATED         SIZE
localhost/do180/mynginx   v1.0            16c8fbada55a   2 minutes ago   131MB
localhost/do180/mynginx   v1.0-SNAPSHOT   4e85d833b2a6   8 minutes ago   131MB
docker.io/library/nginx   1.17            9beeba249f3e   2 months ago    131MB
[student@workstation DO180-apps]$ sudo rmi do180/mynginx:v1.0-SNAPSHOT
sudo: rmi: command not found
[student@workstation DO180-apps]$ sudo podman rmi do180/mynginx:v1.0-SNAPSHOT
Untagged: localhost/do180/mynginx:v1.0-SNAPSHOT
[student@workstation DO180-apps]$ sudo podman images
REPOSITORY                TAG    IMAGE ID       CREATED         SIZE
localhost/do180/mynginx   v1.0   16c8fbada55a   3 minutes ago   131MB
docker.io/library/nginx   1.17   9beeba249f3e   2 months ago    131MB
[student@workstation DO180-apps]$ sudo podman run -d --name my-nginx -p8280:80 do180/mynginx:v1.0
flag provided but not defined: -p8280:80
See 'podman run --help'.
[student@workstation DO180-apps]$ sudo podman run -d --name my-nginx -p 8280:80 do180/mynginx:v1.0
ce5bed3a02b2cdc336ad7c94e615e69669a25afd6013eb3eb720af5330f593a7
[student@workstation DO180-apps]$ curl 127.0.0.1:8080
curl: (7) Failed connect to 127.0.0.1:8080; Connection refused
[student@workstation DO180-apps]$ curl 127.0.0.1:8280
DO180 Page
[student@workstation DO180-apps]$ lab image-review grade 

Grading the student's work for the Lab: Managing Images

 · Nginx container image is pulled.............................  PASS
 · Container official-nginx is created.........................  PASS
 · Container official-nginx is stopped.........................  PASS
 · Tag do180/mynginx:v1.0-SNAPSHOT is removed..................  PASS
 · Tag do180/mynginx:v1.0 is created...........................  PASS
 · Container my-nginx is created and running...................  PASS
 · index.html is available with the custom content.............  PASS
[student@workstation DO180-apps]$ lab image-review f
Missing or unrecognized command - f
This script controls the setup and grading of this lab.
Usage: lab image-review COMMAND
       lab image-review -h|--help

COMMAND is one of: start grade finish

[student@workstation DO180-apps]$ lab image-review finish 

Completing the Lab: Managing Images

 · Stopping official-nginx-dev container.......................  SUCCESS
 · Removing official-nginx-dev container.......................  SUCCESS
 · Stopping official-nginx container...........................  SUCCESS
 · Removing official-nginx container...........................  SUCCESS
 · Removing do180/mynginx:v1.0 image...........................  SUCCESS
 · Removing docker.io/library/nginx:1.17 image.................  SUCCESS
[student@workstation DO180-apps]$ 



Getting image source signatures
Skipping fetch of repeat blob sha256:5601485f01090b2ed055cfcbc1c36eb5acc39a57b80209a8d9f9ab34b2d457da
Skipping fetch of repeat blob sha256:ac7577b8c383fcc22ec383df5fb565a2eaf59f00685d4a980bb54428e034ce2f
Copying blob sha256:07d09c6d861bfed4486e78a9aea68136ddf19e5556fd9a7ad61d8b59281730f3
 18.70 MB / 18.70 MB [======================================================] 0s
Copying config sha256:1dc339d2789d524438dfbe5d2722c6c393ef35b24eaf602992c14a65b9535e7b
 1.95 KB / 1.95 KB [========================================================] 0s
Writing manifest to image destination
Storing signatures
--> 1dc339d2789d524438dfbe5d2722c6c393ef35b24eaf602992c14a65b9535e7b
[student@workstation dockerfile-create]$ sudo podman images
REPOSITORY                            TAG      IMAGE ID       CREATED          SIZE
localhost/do180/apache                latest   1dc339d2789d   18 seconds ago   247MB
registry.access.redhat.com/ubi7/ubi   7.7      0355cd652bd1   4 months ago     215MB
[student@workstation dockerfile-create]$ sudo podman run --name lab-apache -d -p 10080:80 do180/apache
5cbd26316ce391f50470beb4fca285bf9ddafbce6cfee3a15f54fd65d9614540
[student@workstation dockerfile-create]$ sudo podman ps
CONTAINER ID   IMAGE                           COMMAND               CREATED         STATUS             PORTS                   NAMES
5cbd26316ce3   localhost/do180/apache:latest   httpd -D FOREGROUND   6 seconds ago   Up 5 seconds ago   0.0.0.0:10080->80/tcp   lab-apache
[student@workstation dockerfile-create]$ curl 127.0.0.1:10080
Hello from Dockerfile
[student@workstation dockerfile-create]$ lab dockerfile-create finish 

Completing the Guided Exercise: Building a basic Apache Container Image

 · Stopping lab-apache container that is running...............  SUCCESS
 · Removing lab-apache container that is in the cache..........  SUCCESS
 · Removing do180/apache custom container image................  SUCCESS
 · Removing UBI7 container image...............................  SUCCESS
[student@workstation dockerfile-create]$ clear

[student@workstation dockerfile-create]$ 
[student@workstation dockerfile-create]$ 
[student@workstation dockerfile-create]$ 
[student@workstation dockerfile-create]$ lab dockerfile-review start 

Setting up workstation for the Lab: Creating Custom Container Images

 · Checking podman configuration...............................  SUCCESS
 · Checking if the container exists or is running..............  SUCCESS
 · Downloading starter project.................................  SUCCESS
 · Downloading solution project................................  SUCCESS

Setup successful. Please proceed with the exercise.

[student@workstation dockerfile-create]$ cd ../dockerfile-review/
[student@workstation dockerfile-review]$ ls
Dockerfile  src  training.repo
[student@workstation dockerfile-review]$ vi Dockerfile 
[student@workstation dockerfile-review]$ sudo podman build --layers=false -t do180/custom-apache .
STEP 1: FROM ubi7/ubi7:7
error creating build container: The following failures happened while trying to pull image specified by "ubi7/ubi7:7" based on search registries in /etc/containers/registries.conf:
* "localhost/ubi7/ubi7:7": Error determining manifest MIME type for docker://localhost/ubi7/ubi7:7: pinging docker registry returned: Get https://localhost/v2/: dial tcp [::1]:443: connect: connection refused
* "registry.access.redhat.com/ubi7/ubi7:7": Error determining manifest MIME type for docker://registry.access.redhat.com/ubi7/ubi7:7: Error reading manifest 7 in registry.access.redhat.com/ubi7/ubi7: name unknown: Repo not found
* "quay.io/ubi7/ubi7:7": Error determining manifest MIME type for docker://quay.io/ubi7/ubi7:7: Error reading manifest 7 in quay.io/ubi7/ubi7: unauthorized: access to the requested resource is not authorized
[student@workstation dockerfile-review]$ vi Dockerfile 
[student@workstation dockerfile-review]$ sudo podman build --layers=false -t do180/custom-apache .
STEP 1: FROM ubi7/ubi:7.7
Getting image source signatures
Copying blob sha256:fcd63ccfdd0ccd78cc0b23a6e9cef0c400625c1506f3eed694d92c7ced04b4c4
 72.72 MB / ? [------=-----------------------------------------------------] 4s 
Copying blob sha256:09dbbf8834d2d84d8d8a37dcf7d6049794c9c8c604a3d3f2606768a82771438d
 1.57 KB / ? [-------------------------------------------------------------=] 0s
Copying config sha256:0355cd652bd1c4afd8d8f2cd8d0a4887196cb4808b8f803e146ec266ecdd5aa2
 4.32 KB / 4.32 KB [========================================================] 0s
Writing manifest to image destination
Storing signatures
STEP 2: MAINTAINER username <username@example.com>
STEP 3: ENV PORT 8080
STEP 4: RUN yum install -y httpd && yum clean all
Loaded plugins: ovl, product-id, search-disabled-repos, subscription-manager
This system is not receiving updates. You can use subscription-manager on the host to register and assign subscriptions.
ubi-7                                                    | 3.8 kB     00:00     
ubi-7-rhah                                               | 3.7 kB     00:00     
ubi-7-server-devtools-rpms                               | 3.8 kB     00:00     
ubi-7-server-extras-rpms                                 | 3.7 kB     00:00     
ubi-7-server-optional-rpms                               | 3.8 kB     00:00     
ubi-server-rhscl-7-rpms                                  | 3.8 kB     00:00     
(1/18): ubi-7/x86_64/updateinfo                            |   92 B   00:00     
(2/18): ubi-7/x86_64/primary_db                            | 797 kB   00:00     
(3/18): ubi-7/x86_64/group                                 |  124 B   00:00     
(4/18): ubi-7-rhah/x86_64/updateinfo                       |   92 B   00:00     
(5/18): ubi-7-rhah/x86_64/primary_db                       | 2.5 kB   00:00     
(6/18): ubi-7-server-devtools-rpms/x86_64/updateinfo       |   92 B   00:00     
(7/18): ubi-7-server-devtools-rpms/x86_64/primary_db       | 8.6 kB   00:00     
(8/18): ubi-7-rhah/x86_64/group                            |  124 B   00:00     
(9/18): ubi-7-server-devtools-rpms/x86_64/group            |  124 B   00:00     
(10/18): ubi-7-server-extras-rpms/x86_64/updateinfo        |   92 B   00:00     
(11/18): ubi-7-server-extras-rpms/x86_64/primary_db        | 6.7 kB   00:00     
(12/18): ubi-7-server-extras-rpms/x86_64/group             |  124 B   00:00     
(13/18): ubi-7-server-optional-rpms/x86_64/updateinfo      |   92 B   00:00     
(14/18): ubi-7-server-optional-rpms/x86_64/primary_db      |  14 kB   00:00     
(15/18): ubi-server-rhscl-7-rpms/x86_64/updateinfo         |   92 B   00:00     
(16/18): ubi-server-rhscl-7-rpms/x86_64/primary_db         | 260 kB   00:00     
(17/18): ubi-7-server-optional-rpms/x86_64/group           |  124 B   00:00     
(18/18): ubi-server-rhscl-7-rpms/x86_64/group              |  124 B   00:00     
Resolving Dependencies
--> Running transaction check
---> Package httpd.x86_64 0:2.4.6-93.el7 will be installed
--> Processing Dependency: httpd-tools = 2.4.6-93.el7 for package: httpd-2.4.6-93.el7.x86_64
--> Processing Dependency: system-logos >= 7.92.1-1 for package: httpd-2.4.6-93.el7.x86_64
--> Processing Dependency: /etc/mime.types for package: httpd-2.4.6-93.el7.x86_64
--> Processing Dependency: libapr-1.so.0()(64bit) for package: httpd-2.4.6-93.el7.x86_64
--> Processing Dependency: libaprutil-1.so.0()(64bit) for package: httpd-2.4.6-93.el7.x86_64
--> Running transaction check
---> Package apr.x86_64 0:1.4.8-5.el7 will be installed
---> Package apr-util.x86_64 0:1.5.2-6.el7 will be installed
---> Package httpd-tools.x86_64 0:2.4.6-93.el7 will be installed
---> Package mailcap.noarch 0:2.1.41-2.el7 will be installed
---> Package redhat-logos.noarch 0:70.7.0-1.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package              Arch           Version                Repository     Size
================================================================================
Installing:
 httpd                x86_64         2.4.6-93.el7           ubi-7         1.2 M
Installing for dependencies:
 apr                  x86_64         1.4.8-5.el7            ubi-7         104 k
 apr-util             x86_64         1.5.2-6.el7            ubi-7          92 k
 httpd-tools          x86_64         2.4.6-93.el7           ubi-7          92 k
 mailcap              noarch         2.1.41-2.el7           ubi-7          31 k
 redhat-logos         noarch         70.7.0-1.el7           ubi-7          13 M

Transaction Summary
================================================================================
Install  1 Package (+5 Dependent packages)

Total download size: 15 M
Installed size: 18 M
Downloading packages:
warning: /var/cache/yum/x86_64/7Server/ubi-7/packages/apr-1.4.8-5.el7.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID fd431d51: NOKEY
Public key for apr-1.4.8-5.el7.x86_64.rpm is not installed
(1/6): apr-1.4.8-5.el7.x86_64.rpm                          | 104 kB   00:00     
(2/6): apr-util-1.5.2-6.el7.x86_64.rpm                     |  92 kB   00:00     
(3/6): httpd-2.4.6-93.el7.x86_64.rpm                       | 1.2 MB   00:00     
(4/6): httpd-tools-2.4.6-93.el7.x86_64.rpm                 |  92 kB   00:00     
(5/6): redhat-logos-70.7.0-1.el7.noarch.rpm                |  13 MB   00:00     
(6/6): mailcap-2.1.41-2.el7.noarch.rpm                     |  31 kB   00:00     
--------------------------------------------------------------------------------
Total                                               28 MB/s |  15 MB  00:00     
Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release
Importing GPG key 0xFD431D51:
 Userid     : "Red Hat, Inc. (release key 2) <security@redhat.com>"
 Fingerprint: 567e 347a d004 4ade 55ba 8a5f 199e 2f91 fd43 1d51
 Package    : redhat-release-server-7.7-10.el7.x86_64 (@anaconda/7.7)
 From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release
Importing GPG key 0x2FA658E0:
 Userid     : "Red Hat, Inc. (auxiliary key) <security@redhat.com>"
 Fingerprint: 43a6 e49c 4a38 f4be 9abf 2a53 4568 9c88 2fa6 58e0
 Package    : redhat-release-server-7.7-10.el7.x86_64 (@anaconda/7.7)
 From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : apr-1.4.8-5.el7.x86_64                                       1/6 
  Installing : apr-util-1.5.2-6.el7.x86_64                                  2/6 
  Installing : httpd-tools-2.4.6-93.el7.x86_64                              3/6 
  Installing : redhat-logos-70.7.0-1.el7.noarch                             4/6 
  Installing : mailcap-2.1.41-2.el7.noarch                                  5/6 
  Installing : httpd-2.4.6-93.el7.x86_64                                    6/6 
  Verifying  : mailcap-2.1.41-2.el7.noarch                                  1/6 
  Verifying  : apr-util-1.5.2-6.el7.x86_64                                  2/6 
  Verifying  : apr-1.4.8-5.el7.x86_64                                       3/6 
  Verifying  : httpd-2.4.6-93.el7.x86_64                                    4/6 
  Verifying  : redhat-logos-70.7.0-1.el7.noarch                             5/6 
  Verifying  : httpd-tools-2.4.6-93.el7.x86_64                              6/6 

Installed:
  httpd.x86_64 0:2.4.6-93.el7                                                   

Dependency Installed:
  apr.x86_64 0:1.4.8-5.el7                  apr-util.x86_64 0:1.5.2-6.el7       
  httpd-tools.x86_64 0:2.4.6-93.el7         mailcap.noarch 0:2.1.41-2.el7       
  redhat-logos.noarch 0:70.7.0-1.el7       

Complete!
Loaded plugins: ovl, product-id, search-disabled-repos, subscription-manager
This system is not receiving updates. You can use subscription-manager on the host to register and assign subscriptions.
Cleaning repos: ubi-7 ubi-7-rhah ubi-7-server-devtools-rpms
              : ubi-7-server-extras-rpms ubi-7-server-optional-rpms
              : ubi-server-rhscl-7-rpms
STEP 5: RUN sed -ri -e "/^Listen 80/c\Listen ${PORT}" /etc/httpd/conf/httpd.conf &&     chown -R apache:apache /etc/httpd/logs/ &&     chown -R apache:apache /run/httpd/
STEP 6: USER apache
STEP 7: EXPOSE ${PORT}
STEP 8: COPY ./src /var/www/html
STEP 9: CMD ["httpd", "-D", "FOREGROUND"]
ERRO[0022] HOSTNAME is not supported for OCI image format, hostname 1a6370b10892 will be ignored. Must use `docker` format 
STEP 10: COMMIT containers-storage:[overlay@/var/lib/containers/storage+/var/run/containers/storage:overlay.override_kernel_check=true]localhost/do180/custom-apache:latest
Getting image source signatures
Skipping fetch of repeat blob sha256:5601485f01090b2ed055cfcbc1c36eb5acc39a57b80209a8d9f9ab34b2d457da
Skipping fetch of repeat blob sha256:ac7577b8c383fcc22ec383df5fb565a2eaf59f00685d4a980bb54428e034ce2f
Copying blob sha256:79e089c9104c484fa1cb04190b8904d79b5fea82bed9fc62087e1da6ff4fb945
 18.70 MB / 18.70 MB [======================================================] 0s
Copying config sha256:a6acdaba320e107890afbbc6caa9281fedf2823929e617c4cb80d303085a5165
 2.28 KB / 2.28 KB [========================================================] 0s
Writing manifest to image destination
Storing signatures
--> a6acdaba320e107890afbbc6caa9281fedf2823929e617c4cb80d303085a5165
[student@workstation dockerfile-review]$ s
bash: s: command not found...
[student@workstation dockerfile-review]$ 
[student@workstation dockerfile-review]$ 
[student@workstation dockerfile-review]$ 
[student@workstation dockerfile-review]$ sudo podman images
REPOSITORY                            TAG      IMAGE ID       CREATED          SIZE
localhost/do180/custom-apache         latest   a6acdaba320e   12 seconds ago   247MB
registry.access.redhat.com/ubi7/ubi   7.7      0355cd652bd1   4 months ago     215MB
[student@workstation dockerfile-review]$ 
[student@workstation dockerfile-review]$ 
[student@workstation dockerfile-review]$ sudo podman run -d --name dockerfile -p20080:8080 do180/custom-apache
flag provided but not defined: -p20080:8080
See 'podman run --help'.
[student@workstation dockerfile-review]$ sudo podman run -d --name dockerfile -p 20080:8080 do180/custom-apache
f1b7ef75e83237760592cbd6c47b970fe148c1dbf547b3c73cc5d2a3b2f3bcb9
[student@workstation dockerfile-review]$ sudo poman ps
sudo: poman: command not found
[student@workstation dockerfile-review]$ sudo podman ps
CONTAINER ID   IMAGE                                  COMMAND               CREATED          STATUS              PORTS                     NAMES
f1b7ef75e832   localhost/do180/custom-apache:latest   httpd -D FOREGROUND   17 seconds ago   Up 16 seconds ago   0.0.0.0:20080->8080/tcp   dockerfile
[student@workstation dockerfile-review]$ curl 127.0.0.1:20080
<html>
 <header><title>DO180 Hello!</title></header>
 <body>
   Hello World! The dockerfile-review lab works!
 </body>
</html>
[student@workstation dockerfile-review]$ lab dockerfile-review grade 

Grading the student's work for Lab: Creating Custom Container Images

 · Check for apache container image............................  PASS
 · Check if the container is running...........................  PASS
 · Verifying if httpd was installed correctly in apache image..  PASS
 · Verifying if hello world is running on server...............  PASS
 · Stopping grade container....................................  SUCCESS
 · Removing grade container....................................  SUCCESS

[student@workstation dockerfile-review]$ lab dockerfile-review finish 

Completing the Lab: Creating Custom Container Images

 · Stopping running container..................................  SUCCESS
 · Removing the container......................................  SUCCESS
 · Removing do180/custom-apache container image................  SUCCESS
 · Removing ubi7 container image...............................  SUCCESS

[student@workstation dockerfile-review]$ 


++++++++++++++++++++++++++++++++++++++++++++++++
Guided exercide: deploying a database server in OCP
++++++++++++++++++++++++++++++++++++++++++++++
RHT_OCP4_NEXUS_SERVER=nexus-common.apps.ocp-na2.prod.nextcle.com
RHT_OCP4_DEV_USER=sila-kissuu-us
RHT_OCP4_DEV_PASSWORD=ce9b7683c1a94deea390
RHT_OCP4_GITHUB_USER=kasovoni
RHT_OCP4_QUAY_USER=kasovoni
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ oc login -u ${RHT_OCP4_DEV_USER} -p {RHT_OCP4_DEV_PASSWORD} ${RHT_OCP4_MASTER_API}
Login failed (401 Unauthorized)
Verify you have provided correct credentials.
[student@workstation DO180-apps]$ oc login -u ${RHT_OCP4_DEV_USER} -p ${RHT_OCP4_DEV_PASSWORD} ${RHT_OCP4_MASTER_API}
Login successful.

You don't have any projects. You can try to create a new project, by running

    oc new-project <projectname>

[student@workstation DO180-apps]$ oc new-project ${RHT_OCP4_DEV_USER}-mysql-openshift
Now using project "sila-kissuu-us-mysql-openshift" on server "https://api.ocp-na2.prod.nextcle.com:6443".

You can add applications to this project with the 'new-app' command. For example, try:

    oc new-app django-psql-example

to build a new example application in Python. Or use kubectl to deploy a simple Kubernetes application:

    kubectl create deployment hello-node --image=gcr.io/hello-minikube-zero-install/hello-node

[student@workstation DO180-apps]$ oc new-app --docker-image=registry.access.redhat.com/rhscl/mysql-57-rhel7:latest --name=mysql-openshift -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=testdb -e MYSQL_ROOT_PASSWORD=r00tpa55
--> Found Docker image 60726b3 (9 months old) from registry.access.redhat.com for "registry.access.redhat.com/rhscl/mysql-57-rhel7:latest"

    MySQL 5.7 
    --------- 
    MySQL is a multi-user, multi-threaded SQL database server. The container image provides a containerized packaging of the MySQL mysqld daemon and client application. The mysqld server daemon accepts connections from clients and provides access to content from MySQL databases on behalf of the clients.

    Tags: database, mysql, mysql57, rh-mysql57

    * An image stream tag will be created as "mysql-openshift:latest" that will track this image
    * This image will be deployed in deployment config "mysql-openshift"
    * Port 3306/tcp will be load balanced by service "mysql-openshift"
      * Other containers can access this service through the hostname "mysql-openshift"

--> Creating resources ...
    imagestream.image.openshift.io "mysql-openshift" created
    deploymentconfig.apps.openshift.io "mysql-openshift" created
    service "mysql-openshift" created
--> Success
    Application is not exposed. You can expose services to the outside world by executing one or more of the commands below:
     'oc expose svc/mysql-openshift' 
    Run 'oc status' to view your app.
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ oc status
In project sila-kissuu-us-mysql-openshift on server https://api.ocp-na2.prod.nextcle.com:6443

svc/mysql-openshift - 172.30.74.16:3306
  dc/mysql-openshift deploys istag/mysql-openshift:latest 
    deployment #1 deployed 21 seconds ago - 1 pod


3 infos identified, use 'oc status --suggest' to see details.
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ oc get pods -o wide
NAME                       READY   STATUS      RESTARTS   AGE   IP            NODE                          NOMINATED NODE   READINESS GATES
mysql-openshift-1-deploy   0/1     Completed   0          52s   10.130.8.79   ip-10-0-178-84.ec2.internal   <none>           <none>
mysql-openshift-1-vl4r5    1/1     Running     0          44s   10.130.8.80   ip-10-0-178-84.ec2.internal   <none>           <none>
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ oc describe pod mysql-openshift-1-vl4r5 
Name:               mysql-openshift-1-vl4r5
Namespace:          sila-kissuu-us-mysql-openshift
Priority:           0
PriorityClassName:  <none>
Node:               ip-10-0-178-84.ec2.internal/10.0.178.84
Start Time:         Sat, 01 Aug 2020 18:39:44 +0000
Labels:             app=mysql-openshift
                    deployment=mysql-openshift-1
                    deploymentconfig=mysql-openshift
Annotations:        k8s.v1.cni.cncf.io/networks-status:
                      [{
                          "name": "openshift-sdn",
                          "interface": "eth0",
                          "ips": [
                              "10.130.8.80"
                          ],
                          "default": true,
                          "dns": {}
                      }]
                    kubernetes.io/limit-ranger:
                      LimitRanger plugin set: cpu, memory request for container mysql-openshift; cpu, memory limit for container mysql-openshift
                    openshift.io/deployment-config.latest-version: 1
                    openshift.io/deployment-config.name: mysql-openshift
                    openshift.io/deployment.name: mysql-openshift-1
                    openshift.io/generated-by: OpenShiftNewApp
                    openshift.io/scc: restricted
Status:             Running
IP:                 10.130.8.80
Controlled By:      ReplicationController/mysql-openshift-1
Containers:
  mysql-openshift:
    Container ID:   cri-o://85e0e15edff26e9dc0ba27657578aa5c691f96379fc317cbacc5c02157bbba6a
    Image:          registry.access.redhat.com/rhscl/mysql-57-rhel7@sha256:9a781abe7581cc141e14a7e404ec34125b3e89c008b14f4e7b41e094fd3049fe
    Image ID:       image-registry.openshift-image-registry.svc:5000/openshift/mysql@sha256:9a781abe7581cc141e14a7e404ec34125b3e89c008b14f4e7b41e094fd3049fe
    Port:           3306/TCP
    Host Port:      0/TCP
    State:          Running
      Started:      Sat, 01 Aug 2020 18:39:52 +0000
    Ready:          True
    Restart Count:  0
    Limits:
      cpu:     1
      memory:  2Gi
    Requests:
      cpu:     5m
      memory:  50Mi
    Environment:
      MYSQL_DATABASE:       testdb
      MYSQL_PASSWORD:       mypa55
      MYSQL_ROOT_PASSWORD:  r00tpa55
      MYSQL_USER:           user1
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-sdtm5 (ro)
Conditions:
  Type              Status
  Initialized       True 
  Ready             True 
  ContainersReady   True 
  PodScheduled      True 
Volumes:
  default-token-sdtm5:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-sdtm5
    Optional:    false
QoS Class:       Burstable
Node-Selectors:  <none>
Tolerations:     node.kubernetes.io/memory-pressure:NoSchedule
                 node.kubernetes.io/not-ready:NoExecute for 300s
                 node.kubernetes.io/unreachable:NoExecute for 300s
Events:
  Type    Reason     Age   From                                  Message
  ----    ------     ----  ----                                  -------
  Normal  Scheduled  90s   default-scheduler                     Successfully assigned sila-kissuu-us-mysql-openshift/mysql-openshift-1-vl4r5 to ip-10-0-178-84.ec2.internal
  Normal  Pulling    82s   kubelet, ip-10-0-178-84.ec2.internal  Pulling image "registry.access.redhat.com/rhscl/mysql-57-rhel7@sha256:9a781abe7581cc141e14a7e404ec34125b3e89c008b14f4e7b41e094fd3049fe"
  Normal  Pulled     82s   kubelet, ip-10-0-178-84.ec2.internal  Successfully pulled image "registry.access.redhat.com/rhscl/mysql-57-rhel7@sha256:9a781abe7581cc141e14a7e404ec34125b3e89c008b14f4e7b41e094fd3049fe"
  Normal  Created    82s   kubelet, ip-10-0-178-84.ec2.internal  Created container mysql-openshift
  Normal  Started    82s   kubelet, ip-10-0-178-84.ec2.internal  Started container mysql-openshift
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ oc get svc
NAME              TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE
mysql-openshift   ClusterIP   172.30.74.16   <none>        3306/TCP   110s
[student@workstation DO180-apps]$ oc describe service mysql-openshift
Name:              mysql-openshift
Namespace:         sila-kissuu-us-mysql-openshift
Labels:            app=mysql-openshift
Annotations:       openshift.io/generated-by: OpenShiftNewApp
Selector:          app=mysql-openshift,deploymentconfig=mysql-openshift
Type:              ClusterIP
IP:                172.30.74.16
Port:              3306-tcp  3306/TCP
TargetPort:        3306/TCP
Endpoints:         10.130.8.80:3306
Session Affinity:  None
Events:            <none>
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ oc describe dc mysql-openshift
Name:		mysql-openshift
Namespace:	sila-kissuu-us-mysql-openshift
Created:	2 minutes ago
Labels:		app=mysql-openshift
Annotations:	openshift.io/generated-by=OpenShiftNewApp
Latest Version:	1
Selector:	app=mysql-openshift,deploymentconfig=mysql-openshift
Replicas:	1
Triggers:	Config, Image(mysql-openshift@latest, auto=true)
Strategy:	Rolling
Template:
Pod Template:
  Labels:	app=mysql-openshift
		deploymentconfig=mysql-openshift
  Annotations:	openshift.io/generated-by: OpenShiftNewApp
  Containers:
   mysql-openshift:
    Image:	registry.access.redhat.com/rhscl/mysql-57-rhel7@sha256:9a781abe7581cc141e14a7e404ec34125b3e89c008b14f4e7b41e094fd3049fe
    Port:	3306/TCP
    Host Port:	0/TCP
    Environment:
      MYSQL_DATABASE:		testdb
      MYSQL_PASSWORD:		mypa55
      MYSQL_ROOT_PASSWORD:	r00tpa55
      MYSQL_USER:		user1
    Mounts:			<none>
  Volumes:			<none>

Deployment #1 (latest):
	Name:		mysql-openshift-1
	Created:	2 minutes ago
	Status:		Complete
	Replicas:	1 current / 1 desired
	Selector:	app=mysql-openshift,deployment=mysql-openshift-1,deploymentconfig=mysql-openshift
	Labels:		app=mysql-openshift,openshift.io/deployment-config.name=mysql-openshift
	Pods Status:	1 Running / 0 Waiting / 0 Succeeded / 0 Failed

Events:
  Type		Reason			Age	From				Message
  ----		------			----	----				-------
  Normal	DeploymentCreated	2m27s	deploymentconfig-controller	Created new replication controller "mysql-openshift-1" for version 1
[student@workstation DO180-apps]$ oc expose service =mysql-openshift

Error from server (NotFound): services "=mysql-openshift" not found
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ oc expose service mysql-openshift
route.route.openshift.io/mysql-openshift exposed
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ oc port-forward mysql-openshift-1-vl4r5 3306:3306
Forwarding from 127.0.0.1:3306 -> 3306
Forwarding from [::1]:3306 -> 3306
Handling connection for 3306
^C[student@workstation DO180-apps]$ oc delete project ${RHT_OCP4_DEV_USER}-mysql-openshift
project.project.openshift.io "sila-kissuu-us-mysql-openshift" deleted
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ lab openshift-resources finish 

Completing the Guided Exercise: Deploying a Database Server on OpenShift

 · Deleting the 'sila-kissuu-us-mysql-openshift' project.......  SUCCESS
[student@workstation DO180-apps]$ 



[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ oc port-forward mysql-openshift-1-vl4r5 3306:3306
Forwarding from 127.0.0.1:3306 -> 3306
Forwarding from [::1]:3306 -> 3306
Handling connection for 3306
^C[student@workstation DO180-apps]$ oc delete project ${RHT_OCP4_DEV_USER}-mysql-openshift
project.project.openshift.io "sila-kissuu-us-mysql-openshift" deleted
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ lab openshift-resources finish 

Completing the Guided Exercise: Deploying a Database Server on OpenShift

 · Deleting the 'sila-kissuu-us-mysql-openshift' project.......  SUCCESS
[student@workstation DO180-apps]$ vi running.log 
[student@workstation DO180-apps]$ !79
git commit -a -m "updates"
[master 8c52cf9] updates
 1 file changed, 238 insertions(+)
[student@workstation DO180-apps]$ !80
git push
Counting objects: 5, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 3.79 KiB | 0 bytes/s, done.
Total 3 (delta 2), reused 0 (delta 0)
remote: Resolving deltas: 100% (2/2), completed with 2 local objects.
To https://github.com/kasovoni/DO180-apps
   e6873f5..8c52cf9  master -> master
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ clear

[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ lab openshift-routes start

Setting up workstation for the Guided Exercise: Exposing a Service as a Route

 Verifying the OpenShift cluster is running:
 · Log in on OpenShift.........................................  SUCCESS
 · Check the internal registry is up and running...............  SUCCESS
 · Ensuring the 'sila-kissuu-us-route' project does not exist..  SUCCESS
[student@workstation DO180-apps]$ source /usr/local/etc/ocp4.
ocp4.config    ocp4.defaults  
[student@workstation DO180-apps]$ source /usr/local/etc/ocp4.config 
[student@workstation DO180-apps]$ cat /usr/local/etc/ocp4.defaults 
RHT_OCP4_MODE=development
RHT_OCP4_MASTER_API=https://api.cluster.domain.nextcle.com:6443
RHT_OCP4_WILDCARD_DOMAIN=
RHT_OCP4_NEXUS_SERVER=
RHT_OCP4_CLUSTER_ID=
RHT_OCP4_DEV_USER=ocpuser
RHT_OCP4_DEV_PASSWORD=yourpassword
RHT_OCP4_GITHUB_USER=gituser
RHT_OCP4_QUAY_USER=quayuser
[student@workstation DO180-apps]$ oc new-project ${RHT_OCP4_DEV_USER}-route
Now using project "sila-kissuu-us-route" on server "https://api.ocp-na2.prod.nextcle.com:6443".

You can add applications to this project with the 'new-app' command. For example, try:

    oc new-app django-psql-example

to build a new example application in Python. Or use kubectl to deploy a simple Kubernetes application:

    kubectl create deployment hello-node --image=gcr.io/hello-minikube-zero-install/hello-node

[student@workstation DO180-apps]$ oc new-app php:7.1~https://github.com/${RHT_OCP4_GITHUB_USER}/DO180-apps --context-dir php-helloworld --name php-helloworld
--> Found image 8e01e80 (8 months old) in image stream "openshift/php" under tag "7.1" for "php:7.1"

    Apache 2.4 with PHP 7.1 
    ----------------------- 
    PHP 7.1 available as container is a base platform for building and running various PHP 7.1 applications and frameworks. PHP is an HTML-embedded scripting language. PHP attempts to make it easy for developers to write dynamically generated web pages. PHP also offers built-in database integration for several commercial and non-commercial database management systems, so writing a database-enabled webpage with PHP is fairly simple. The most common use of PHP coding is probably as a replacement for CGI scripts.

    Tags: builder, php, php71, rh-php71

    * A source build using source code from https://github.com/kasovoni/DO180-apps will be created
      * The resulting image will be pushed to image stream tag "php-helloworld:latest"
      * Use 'oc start-build' to trigger a new build
    * This image will be deployed in deployment config "php-helloworld"
    * Ports 8080/tcp, 8443/tcp will be load balanced by service "php-helloworld"
      * Other containers can access this service through the hostname "php-helloworld"

--> Creating resources ...
    imagestream.image.openshift.io "php-helloworld" created
    buildconfig.build.openshift.io "php-helloworld" created
    deploymentconfig.apps.openshift.io "php-helloworld" created
    service "php-helloworld" created
--> Success
    Build scheduled, use 'oc logs -f bc/php-helloworld' to track its progress.
    Application is not exposed. You can expose services to the outside world by executing one or more of the commands below:
     'oc expose svc/php-helloworld' 
    Run 'oc status' to view your app.
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ oc get po -w
NAME                     READY   STATUS    RESTARTS   AGE
php-helloworld-1-build   1/1     Running   0          17s
^C[student@workstation DO180-apps]$ oc logs -f bc/php-helloworld
Cloning "https://github.com/kasovoni/DO180-apps" ...
	Commit:	8c52cf9d4fc5f33f96a7359e2760aa3feb6d4c02 (updates)
	Author:	Student User <student@workstation.lab.example.com>
	Date:	Sat Aug 1 18:54:27 2020 +0000
Caching blobs under "/var/cache/blobs".
Getting image source signatures
Copying blob sha256:48ed3bfd822646e50676cd7606af43e984db141bb1755904362f1eb64684c68a
Copying blob sha256:9c9d2ac50b32c2bb48d07fb4e80e81552acc76ade952777f5deb05fdac8f88c6
Copying blob sha256:16df3eb2f02e0560f09ae997a937d135f747b970d5c2c9bf30b6de874827f3ba
Copying blob sha256:ad46648f2433aa416763060fb4baaefe64baeda603d4e572f883c21c5482fea1
Copying blob sha256:d327c1598329494579ba3d62999df41f11bff9a2bfad57fb49b30324404ac42a
Copying config sha256:8e01e80b24124ddc69686179b836d01cb818bad93be2e59e13c3ab7b0ff16196
Writing manifest to image destination
Storing signatures
Generating dockerfile with builder image image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:289ef5852151a1a3ea4fdf2581a86a60ada0719e54a5ddd78f5252742e6d2b8d
STEP 1: FROM image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:289ef5852151a1a3ea4fdf2581a86a60ada0719e54a5ddd78f5252742e6d2b8d
STEP 2: LABEL "io.openshift.build.source-context-dir"="php-helloworld" "io.openshift.build.image"="image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:289ef5852151a1a3ea4fdf2581a86a60ada0719e54a5ddd78f5252742e6d2b8d" "io.openshift.build.commit.author"="Student User <student@workstation.lab.example.com>" "io.openshift.build.commit.date"="Sat Aug 1 18:54:27 2020 +0000" "io.openshift.build.commit.id"="8c52cf9d4fc5f33f96a7359e2760aa3feb6d4c02" "io.openshift.build.commit.ref"="master" "io.openshift.build.commit.message"="updates" "io.openshift.build.source-location"="https://github.com/kasovoni/DO180-apps"
STEP 3: ENV OPENSHIFT_BUILD_NAME="php-helloworld-1" OPENSHIFT_BUILD_NAMESPACE="sila-kissuu-us-route" OPENSHIFT_BUILD_SOURCE="https://github.com/kasovoni/DO180-apps" OPENSHIFT_BUILD_COMMIT="8c52cf9d4fc5f33f96a7359e2760aa3feb6d4c02"
STEP 4: USER root
STEP 5: COPY upload/src /tmp/src
STEP 6: RUN chown -R 1001:0 /tmp/src
time="2020-08-01T19:33:04Z" level=warning msg="pkg/chroot: error unmounting \"/tmp/buildah160797968/mnt/rootfs\": error checking if \"/tmp/buildah160797968/mnt/rootfs/sys/fs/cgroup/perf_event\" is mounted: no such file or directory"
time="2020-08-01T19:33:04Z" level=warning msg="pkg/bind: error unmounting \"/tmp/buildah160797968/mnt/rootfs\": error checking if \"/tmp/buildah160797968/mnt/rootfs/sys/fs/cgroup/perf_event\" is mounted: no such file or directory"
STEP 7: USER 1001
STEP 8: RUN /usr/libexec/s2i/assemble
---> Installing application source...
=> sourcing 20-copy-config.sh ...
---> 19:33:06     Processing additional arbitrary httpd configuration provided by s2i ...
=> sourcing 00-documentroot.conf ...
=> sourcing 50-mpm-tuning.conf ...
=> sourcing 40-ssl-certs.sh ...
time="2020-08-01T19:33:06Z" level=warning msg="pkg/chroot: error unmounting \"/tmp/buildah536170877/mnt/rootfs\": error checking if \"/tmp/buildah536170877/mnt/rootfs/sys/fs/cgroup/perf_event\" is mounted: no such file or directory"
time="2020-08-01T19:33:06Z" level=warning msg="pkg/bind: error unmounting \"/tmp/buildah536170877/mnt/rootfs\": error checking if \"/tmp/buildah536170877/mnt/rootfs/sys/fs/cgroup/perf_event\" is mounted: no such file or directory"
STEP 9: CMD /usr/libexec/s2i/run
STEP 10: COMMIT temp.builder.openshift.io/sila-kissuu-us-route/php-helloworld-1:e456da9b
Getting image source signatures
Copying blob sha256:a551fb857b61df88ae64cded378611456294ee7143bc068eb3a9ee1a29934658
Copying blob sha256:08c4aa164cbaadfb32414e39d9b252a5382b9db1dd8e028fb11805074edbe608
Copying blob sha256:7c6c57a17fb3de2b83515a0e33782d6d769fa90725da4eb75311e5ffbf601e49
Copying blob sha256:c3b514cae9b11a6aadc78fdbb3d7b71226759927a8149f97ea400628744ad2c9
Copying blob sha256:67ce50f5984a7a2ae8efd16c0dd2780e95982256be555d4e9a272357783ec338
Copying blob sha256:0656f9534683c0b75fa383b235a48b73b53e4cae7f768626b79cd5d45cf37a19
Copying config sha256:1866bc70690c0c7dc609a0e5639152dbdd9090d03a58393d417f90ad4d6ce189
Writing manifest to image destination
Storing signatures
1866bc70690c0c7dc609a0e5639152dbdd9090d03a58393d417f90ad4d6ce189

Pushing image image-registry.openshift-image-registry.svc:5000/sila-kissuu-us-route/php-helloworld:latest ...
Getting image source signatures
Copying blob sha256:0656f9534683c0b75fa383b235a48b73b53e4cae7f768626b79cd5d45cf37a19
Copying blob sha256:ad46648f2433aa416763060fb4baaefe64baeda603d4e572f883c21c5482fea1
Copying blob sha256:48ed3bfd822646e50676cd7606af43e984db141bb1755904362f1eb64684c68a
Copying blob sha256:9c9d2ac50b32c2bb48d07fb4e80e81552acc76ade952777f5deb05fdac8f88c6
Copying blob sha256:d327c1598329494579ba3d62999df41f11bff9a2bfad57fb49b30324404ac42a
Copying blob sha256:16df3eb2f02e0560f09ae997a937d135f747b970d5c2c9bf30b6de874827f3ba
Copying config sha256:1866bc70690c0c7dc609a0e5639152dbdd9090d03a58393d417f90ad4d6ce189
Writing manifest to image destination
Storing signatures
Successfully pushed image-registry.openshift-image-registry.svc:5000/sila-kissuu-us-route/php-helloworld@sha256:874226d3bd0a02f45b2fcacfdf89c9744d01a41aac567fb5ae6d8a718af11b33
Push successful
[student@workstation DO180-apps]$ oc logs -f cc/php-helloworld
error: the server doesn't have a resource type "cc"
[student@workstation DO180-apps]$ ^C
[student@workstation DO180-apps]$ oc logs -f dc/php-helloworld
--> Scaling php-helloworld-1 to 1
--> Success
[student@workstation DO180-apps]$ oc describe svc/php-helloworld
Name:              php-helloworld
Namespace:         sila-kissuu-us-route
Labels:            app=php-helloworld
Annotations:       openshift.io/generated-by: OpenShiftNewApp
Selector:          app=php-helloworld,deploymentconfig=php-helloworld
Type:              ClusterIP
IP:                172.30.14.84
Port:              8080-tcp  8080/TCP
TargetPort:        8080/TCP
Endpoints:         10.129.9.19:8080
Port:              8443-tcp  8443/TCP
TargetPort:        8443/TCP
Endpoints:         10.129.9.19:8443
Session Affinity:  None
Events:            <none>
[student@workstation DO180-apps]$ oc expose svc/php-helloworld
route.route.openshift.io/php-helloworld exposed
[student@workstation DO180-apps]$ oc get route svc/php-helloworld
error: there is no need to specify a resource type as a separate argument when passing arguments in resource/name form (e.g. 'oc get resource/<resource_name>' instead of 'oc get resource resource/<resource_name>'
[student@workstation DO180-apps]$ curl php-helloworld-${RHT_OCP4_DEV_USER}-route.${RHT_OCP4_WILDCARD_DOMAIN}
Hello, World! php version is 7.1.30
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ oc delete route/php-helloworld
route.route.openshift.io "php-helloworld" deleted
[student@workstation DO180-apps]$ oc expose svc/php-helloworld
route.route.openshift.io/php-helloworld exposed
[student@workstation DO180-apps]$ oc expose svc/php-helloworld --name=${RHT_OCP4_DEV_USER}-xyz
route.route.openshift.io/sila-kissuu-us-xyz exposed
[student@workstation DO180-apps]$ oc delete route/php-helloworld
route.route.openshift.io "php-helloworld" deleted
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ oc describe route
Name:			sila-kissuu-us-xyz
Namespace:		sila-kissuu-us-route
Created:		26 seconds ago
Labels:			app=php-helloworld
Annotations:		openshift.io/host.generated=true
Requested Host:		sila-kissuu-us-xyz-sila-kissuu-us-route.apps.ocp-na2.prod.nextcle.com
			  exposed on router default (host apps.ocp-na2.prod.nextcle.com) 26 seconds ago
Path:			<none>
TLS Termination:	<none>
Insecure Policy:	<none>
Endpoint Port:		8080-tcp

Service:	php-helloworld
Weight:		100 (100%)
Endpoints:	10.129.9.19:8443, 10.129.9.19:8080
[student@workstation DO180-apps]$ curl ${RHT_OCP4_DEV_USER}-xyz-${RHT_OCP4_DEV_USER}-route.${RHT_OCP4_WILDCARD_DOMAIN}
Hello, World! php version is 7.1.30
[student@workstation DO180-apps]$ lab openshift-routes finish 

Completing the Guided Exercise: Exposing a Service as a Route

 · Removing OpenShift project 'sila-kissuu-us-route'...........  SUCCESS
[student@workstation DO180-apps]$ 


[student@workstation DO180-apps]$ oc expose svc/php-helloworld --name=${RHT_OCP4_DEV_USER}-xyz
route.route.openshift.io/sila-kissuu-us-xyz exposed
[student@workstation DO180-apps]$ oc delete route/php-helloworld
route.route.openshift.io "php-helloworld" deleted
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ oc describe route
Name:			sila-kissuu-us-xyz
Namespace:		sila-kissuu-us-route
Created:		26 seconds ago
Labels:			app=php-helloworld
Annotations:		openshift.io/host.generated=true
Requested Host:		sila-kissuu-us-xyz-sila-kissuu-us-route.apps.ocp-na2.prod.nextcle.com
			  exposed on router default (host apps.ocp-na2.prod.nextcle.com) 26 seconds ago
Path:			<none>
TLS Termination:	<none>
Insecure Policy:	<none>
Endpoint Port:		8080-tcp

Service:	php-helloworld
Weight:		100 (100%)
Endpoints:	10.129.9.19:8443, 10.129.9.19:8080
[student@workstation DO180-apps]$ curl ${RHT_OCP4_DEV_USER}-xyz-${RHT_OCP4_DEV_USER}-route.${RHT_OCP4_WILDCARD_DOMAIN}
Hello, World! php version is 7.1.30
[student@workstation DO180-apps]$ lab openshift-routes finish 

Completing the Guided Exercise: Exposing a Service as a Route

 · Removing OpenShift project 'sila-kissuu-us-route'...........  SUCCESS
[student@workstation DO180-apps]$ vi running.log 
[student@workstation DO180-apps]$ clear

[student@workstation DO180-apps]$ lab openshift-s2i start 

Setting up workstation for the Guided Excercise: Creating a Containerized Application with Source-to-Image

 · Installing the tree command.................................  SUCCESS
 Checking local clone of the applications repository:
 · Folder '/home/student/DO180-apps' is a git repo.............  SUCCESS
 · Git repo '/home/student/DO180-apps' has no pending changes..  FAIL

You do not seem to have a local clone of the applications repository.
Perform the first guided exercise: "Configuring Your Classroom Environment" before starting this exercise.

Cannot continue due to the previous errors.....................  FAIL

[student@workstation DO180-apps]$ ll
total 140
drwxrwxr-x. 2 student student     23 Aug  1 15:04 example
drwxrwxr-x. 2 student student     43 Aug  1 15:04 nodejs-app
drwxrwxr-x. 2 student student     40 Aug  1 15:04 nodejs-helloworld
drwxrwxr-x. 2 student student     23 Aug  1 15:04 php-helloworld
-rw-rw-r--. 1 student student     54 Aug  1 15:04 README.md
-rw-rw-r--. 1 student student 137492 Aug  1 19:38 running.log
drwxrwxr-x. 2 student student     23 Aug  1 15:04 temps
drwxrwxr-x. 5 student student     51 Aug  1 15:04 todoapp
[student@workstation DO180-apps]$ !79
git commit -a -m "updates"
[master 905681b] updates
 1 file changed, 227 insertions(+)
[student@workstation DO180-apps]$ !80
git push
Counting objects: 5, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 4.04 KiB | 0 bytes/s, done.
Total 3 (delta 2), reused 0 (delta 0)
remote: Resolving deltas: 100% (2/2), completed with 2 local objects.
To https://github.com/kasovoni/DO180-apps
   8c52cf9..905681b  master -> master
[student@workstation DO180-apps]$ lab openshift-s2i start 

Setting up workstation for the Guided Excercise: Creating a Containerized Application with Source-to-Image

 · Installing the tree command.................................  SUCCESS
 Checking local clone of the applications repository:
 · Folder '/home/student/DO180-apps' is a git repo.............  SUCCESS
 · Git repo '/home/student/DO180-apps' has no pending changes..  SUCCESS
 Verifying the OpenShift cluster is running:
 · Log in on OpenShift.........................................  SUCCESS
 · Check the internal registry is up and running...............  SUCCESS
 · Ensuring the 'sila-kissuu-us-s2i' project does not exist....  SUCCESS
 · Downloading starter project.................................  SUCCESS
 · Downloading solution project................................  SUCCESS

Setup successful. Please proceed with the exercise.

[student@workstation DO180-apps]$ cd ../DO180/labs/openshift-s2i/
[student@workstation openshift-s2i]$ tree
.
└── s2i-php-container
    ├── 5.6
    │   ├── cccp.yml
    │   ├── contrib
    │   │   └── etc
    │   │       ├── conf.d
    │   │       │   ├── 00-documentroot.conf.template
    │   │       │   └── 50-mpm-tuning.conf.template
    │   │       ├── httpdconf.sed
    │   │       ├── php.d
    │   │       │   └── 10-opcache.ini.template
    │   │       ├── php.ini.template
    │   │       └── scl_enable
    │   ├── Dockerfile
    │   ├── Dockerfile.rhel7
    │   ├── README.md
    │   ├── s2i
    │   │   └── bin
    │   │       ├── assemble
    │   │       ├── run
    │   │       └── usage
    │   └── test
    │       ├── run
    │       └── test-app
    │           ├── composer.json
    │           └── index.php
    ├── hack
    │   ├── build.sh
    │   └── common.mk
    ├── LICENSE
    ├── Makefile
    └── README.md

11 directories, 21 files
[student@workstation openshift-s2i]$ tree s2i-php-container/
s2i-php-container/
├── 5.6
│   ├── cccp.yml
│   ├── contrib
│   │   └── etc
│   │       ├── conf.d
│   │       │   ├── 00-documentroot.conf.template
│   │       │   └── 50-mpm-tuning.conf.template
│   │       ├── httpdconf.sed
│   │       ├── php.d
│   │       │   └── 10-opcache.ini.template
│   │       ├── php.ini.template
│   │       └── scl_enable
│   ├── Dockerfile
│   ├── Dockerfile.rhel7
│   ├── README.md
│   ├── s2i
│   │   └── bin
│   │       ├── assemble
│   │       ├── run
│   │       └── usage
│   └── test
│       ├── run
│       └── test-app
│           ├── composer.json
│           └── index.php
├── hack
│   ├── build.sh
│   └── common.mk
├── LICENSE
├── Makefile
└── README.md

10 directories, 21 files
[student@workstation openshift-s2i]$ cd -
/home/student/DO180-apps
[student@workstation DO180-apps]$ ls
example  nodejs-app  nodejs-helloworld  php-helloworld  README.md  running.log  temps  todoapp
[student@workstation DO180-apps]$ git checkout -b s2i
Switched to a new branch 's2i'
[student@workstation DO180-apps]$ git push -u origin s2i
To https://github.com/kasovoni/DO180-apps
 ! [rejected]        s2i -> s2i (non-fast-forward)
error: failed to push some refs to 'https://github.com/kasovoni/DO180-apps'
hint: Updates were rejected because the tip of your current branch is behind
hint: its remote counterpart. Merge the remote changes (e.g. 'git pull')
hint: before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
[student@workstation DO180-apps]$ git pull
There is no tracking information for the current branch.
Please specify which branch you want to merge with.
See git-pull(1) for details

    git pull <remote> <branch>

If you wish to set tracking information for this branch you can do so with:

    git branch --set-upstream-to=origin/<branch> s2i

[student@workstation DO180-apps]$ git checkout master
Switched to branch 'master'
[student@workstation DO180-apps]$ git checkout -b s2i
fatal: A branch named 's2i' already exists.
[student@workstation DO180-apps]$ git checkout s2i
Switched to branch 's2i'
[student@workstation DO180-apps]$ git push -u origin s2i
To https://github.com/kasovoni/DO180-apps
 ! [rejected]        s2i -> s2i (non-fast-forward)
error: failed to push some refs to 'https://github.com/kasovoni/DO180-apps'
hint: Updates were rejected because the tip of your current branch is behind
hint: its remote counterpart. Merge the remote changes (e.g. 'git pull')
hint: before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
[student@workstation DO180-apps]$ git pull master
fatal: 'master' does not appear to be a git repository
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
[student@workstation DO180-apps]$ git checkout master
Switched to branch 'master'
[student@workstation DO180-apps]$ lab openshift-s2i finish 

Completing the Guided Excercise: Creating a Containerized Application with Source-to-Image

 · Log in on OpenShift.........................................  SUCCESS
 · Deleting the 'sila-kissuu-us-s2i' project...................  SUCCESS
[student@workstation DO180-apps]$ lab openshift-webconsole start 

Setting up workstation for the Guided Exercise: Creating an Application with the Web Console

 Verifying the OpenShift cluster is running:
 · Log in on OpenShift.........................................  SUCCESS
 · Check the internal registry is up and running...............  SUCCESS
 · Ensuring the 'sila-kissuu-us-console' project does not exist  SUCCESS

[student@workstation DO180-apps]$ git checkout -b console
Switched to a new branch 'console'
[student@workstation DO180-apps]$ git push -u origin console
To https://github.com/kasovoni/DO180-apps
 ! [rejected]        console -> console (non-fast-forward)
error: failed to push some refs to 'https://github.com/kasovoni/DO180-apps'
hint: Updates were rejected because the tip of your current branch is behind
hint: its remote counterpart. Merge the remote changes (e.g. 'git pull')
hint: before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
[student@workstation DO180-apps]$ git pull
There is no tracking information for the current branch.
Please specify which branch you want to merge with.
See git-pull(1) for details

    git pull <remote> <branch>

If you wish to set tracking information for this branch you can do so with:

    git branch --set-upstream-to=origin/<branch> console

[student@workstation DO180-apps]$ git checkout master
Switched to branch 'master'
[student@workstation DO180-apps]$ git pull
Already up-to-date.
[student@workstation DO180-apps]$ git checkout -b console
fatal: A branch named 'console' already exists.
[student@workstation DO180-apps]$ git checkout console
Switched to branch 'console'
[student@workstation DO180-apps]$ git push -u origin console
To https://github.com/kasovoni/DO180-apps
 ! [rejected]        console -> console (non-fast-forward)
error: failed to push some refs to 'https://github.com/kasovoni/DO180-apps'
hint: Updates were rejected because the tip of your current branch is behind
hint: its remote counterpart. Merge the remote changes (e.g. 'git pull')
hint: before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
[student@workstation DO180-apps]$ git checkout master
Switched to branch 'master'
[student@workstation DO180-apps]$ lab openshift-webconsole finish 

Completing the Guided Exercise: Creating an Application with the Web Console

 · Ensure the 'sila-kissuu-us-console' project is deleted .....  SUCCESS

[student@workstation DO180-apps]$ history |grep login
  213  oc login -u ${RHT_OCP4_DEV_USER} -p {RHT_OCP4_DEV_PASSWORD} ${RHT_OCP4_MASTER_API}
  214  oc login -u ${RHT_OCP4_DEV_USER} -p ${RHT_OCP4_DEV_PASSWORD} ${RHT_OCP4_MASTER_API}
  285  history |grep login
[student@workstation DO180-apps]$ !214
oc login -u ${RHT_OCP4_DEV_USER} -p ${RHT_OCP4_DEV_PASSWORD} ${RHT_OCP4_MASTER_API}
Login successful.

You don't have any projects. You can try to create a new project, by running

    oc new-project <projectname>

[student@workstation DO180-apps]$ history |grep new
  215  oc new-project ${RHT_OCP4_DEV_USER}-mysql-openshift
  216  oc new-app --docker-image=registry.access.redhat.com/rhscl/mysql-57-rhel7:latest --name=mysql-openshift -e MYSQL_USER=user1 -e MYSQL_PASSWORD=mypa55 -e MYSQL_DATABASE=testdb -e MYSQL_ROOT_PASSWORD=r00tpa55
  235  oc new-project ${RHT_OCP4_DEV_USER}-route
  236  oc new-app php:7.1~https://github.com/${RHT_OCP4_GITHUB_USER}/DO180-apps --context-dir php-helloworld --name php-helloworld
  287  history |grep new
[student@workstation DO180-apps]$ oc new-project ${RHT_OCP4_DEV_USER}-ocp
Now using project "sila-kissuu-us-ocp" on server "https://api.ocp-na2.prod.nextcle.com:6443".

You can add applications to this project with the 'new-app' command. For example, try:

    oc new-app django-psql-example

to build a new example application in Python. Or use kubectl to deploy a simple Kubernetes application:

    kubectl create deployment hello-node --image=gcr.io/hello-minikube-zero-install/hello-node

[student@workstation DO180-apps]$ oc new-app php:7.1~https://github.com/RedHatTraining/DO180-apps --context-dir temps --name temps
--> Found image 8e01e80 (8 months old) in image stream "openshift/php" under tag "7.1" for "php:7.1"

    Apache 2.4 with PHP 7.1 
    ----------------------- 
    PHP 7.1 available as container is a base platform for building and running various PHP 7.1 applications and frameworks. PHP is an HTML-embedded scripting language. PHP attempts to make it easy for developers to write dynamically generated web pages. PHP also offers built-in database integration for several commercial and non-commercial database management systems, so writing a database-enabled webpage with PHP is fairly simple. The most common use of PHP coding is probably as a replacement for CGI scripts.

    Tags: builder, php, php71, rh-php71

    * A source build using source code from https://github.com/RedHatTraining/DO180-apps will be created
      * The resulting image will be pushed to image stream tag "temps:latest"
      * Use 'oc start-build' to trigger a new build
    * This image will be deployed in deployment config "temps"
    * Ports 8080/tcp, 8443/tcp will be load balanced by service "temps"
      * Other containers can access this service through the hostname "temps"

--> Creating resources ...
    imagestream.image.openshift.io "temps" created
    buildconfig.build.openshift.io "temps" created
    deploymentconfig.apps.openshift.io "temps" created
    service "temps" created
--> Success
    Build scheduled, use 'oc logs -f bc/temps' to track its progress.
    Application is not exposed. You can expose services to the outside world by executing one or more of the commands below:
     'oc expose svc/temps' 
    Run 'oc status' to view your app.
[student@workstation DO180-apps]$ oc logs -f bc/temps
Cloning "https://github.com/RedHatTraining/DO180-apps" ...
	Commit:	f7cd8963ef353d9173c3a21dcccf402f3616840b (Initial commit, including all apps previously in course)
	Author:	Jordi Sola <someth2say@gmail.com>
	Date:	Fri Oct 4 13:04:03 2019 +0200
Caching blobs under "/var/cache/blobs".
Getting image source signatures
Copying blob sha256:48ed3bfd822646e50676cd7606af43e984db141bb1755904362f1eb64684c68a
Copying blob sha256:9c9d2ac50b32c2bb48d07fb4e80e81552acc76ade952777f5deb05fdac8f88c6
Copying blob sha256:16df3eb2f02e0560f09ae997a937d135f747b970d5c2c9bf30b6de874827f3ba
Copying blob sha256:d327c1598329494579ba3d62999df41f11bff9a2bfad57fb49b30324404ac42a
Copying blob sha256:ad46648f2433aa416763060fb4baaefe64baeda603d4e572f883c21c5482fea1
Copying config sha256:8e01e80b24124ddc69686179b836d01cb818bad93be2e59e13c3ab7b0ff16196
Writing manifest to image destination
Storing signatures
Generating dockerfile with builder image image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:289ef5852151a1a3ea4fdf2581a86a60ada0719e54a5ddd78f5252742e6d2b8d
STEP 1: FROM image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:289ef5852151a1a3ea4fdf2581a86a60ada0719e54a5ddd78f5252742e6d2b8d
STEP 2: LABEL "io.openshift.build.image"="image-registry.openshift-image-registry.svc:5000/openshift/php@sha256:289ef5852151a1a3ea4fdf2581a86a60ada0719e54a5ddd78f5252742e6d2b8d" "io.openshift.build.commit.author"="Jordi Sola <someth2say@gmail.com>" "io.openshift.build.commit.date"="Fri Oct 4 13:04:03 2019 +0200" "io.openshift.build.commit.id"="f7cd8963ef353d9173c3a21dcccf402f3616840b" "io.openshift.build.commit.ref"="master" "io.openshift.build.commit.message"="Initial commit, including all apps previously in course" "io.openshift.build.source-location"="https://github.com/RedHatTraining/DO180-apps" "io.openshift.build.source-context-dir"="temps"
STEP 3: ENV OPENSHIFT_BUILD_NAME="temps-1" OPENSHIFT_BUILD_NAMESPACE="sila-kissuu-us-ocp" OPENSHIFT_BUILD_SOURCE="https://github.com/RedHatTraining/DO180-apps" OPENSHIFT_BUILD_COMMIT="f7cd8963ef353d9173c3a21dcccf402f3616840b"
STEP 4: USER root
STEP 5: COPY upload/src /tmp/src
STEP 6: RUN chown -R 1001:0 /tmp/src
time="2020-08-01T19:50:58Z" level=warning msg="pkg/chroot: error unmounting \"/tmp/buildah181896240/mnt/rootfs\": error checking if \"/tmp/buildah181896240/mnt/rootfs/sys/fs/cgroup/perf_event\" is mounted: no such file or directory"
time="2020-08-01T19:50:58Z" level=warning msg="pkg/bind: error unmounting \"/tmp/buildah181896240/mnt/rootfs\": error checking if \"/tmp/buildah181896240/mnt/rootfs/sys/fs/cgroup/perf_event\" is mounted: no such file or directory"
STEP 7: USER 1001
STEP 8: RUN /usr/libexec/s2i/assemble
---> Installing application source...
=> sourcing 20-copy-config.sh ...
---> 19:50:59     Processing additional arbitrary httpd configuration provided by s2i ...
=> sourcing 00-documentroot.conf ...
=> sourcing 50-mpm-tuning.conf ...
=> sourcing 40-ssl-certs.sh ...
time="2020-08-01T19:51:00Z" level=warning msg="pkg/chroot: error unmounting \"/tmp/buildah599481629/mnt/rootfs\": error checking if \"/tmp/buildah599481629/mnt/rootfs/sys/fs/cgroup/perf_event\" is mounted: no such file or directory"
time="2020-08-01T19:51:00Z" level=warning msg="pkg/bind: error unmounting \"/tmp/buildah599481629/mnt/rootfs\": error checking if \"/tmp/buildah599481629/mnt/rootfs/sys/fs/cgroup/perf_event\" is mounted: no such file or directory"
STEP 9: CMD /usr/libexec/s2i/run
STEP 10: COMMIT temp.builder.openshift.io/sila-kissuu-us-ocp/temps-1:c74b06e4
Getting image source signatures
Copying blob sha256:a551fb857b61df88ae64cded378611456294ee7143bc068eb3a9ee1a29934658
Copying blob sha256:08c4aa164cbaadfb32414e39d9b252a5382b9db1dd8e028fb11805074edbe608
Copying blob sha256:7c6c57a17fb3de2b83515a0e33782d6d769fa90725da4eb75311e5ffbf601e49
Copying blob sha256:c3b514cae9b11a6aadc78fdbb3d7b71226759927a8149f97ea400628744ad2c9
Copying blob sha256:67ce50f5984a7a2ae8efd16c0dd2780e95982256be555d4e9a272357783ec338
Copying blob sha256:0eade84ff7ab392d99beb1b6412f6f08b67df921611106151920281d660bd02c
Copying config sha256:9ab464da6e7cd61400b7572f75ba9dda729d78dc6c4c7334d24709f6ffcf33c4
Writing manifest to image destination
Storing signatures
9ab464da6e7cd61400b7572f75ba9dda729d78dc6c4c7334d24709f6ffcf33c4

Pushing image image-registry.openshift-image-registry.svc:5000/sila-kissuu-us-ocp/temps:latest ...
Getting image source signatures
Copying blob sha256:d327c1598329494579ba3d62999df41f11bff9a2bfad57fb49b30324404ac42a
Copying blob sha256:0eade84ff7ab392d99beb1b6412f6f08b67df921611106151920281d660bd02c
Copying blob sha256:16df3eb2f02e0560f09ae997a937d135f747b970d5c2c9bf30b6de874827f3ba
Copying blob sha256:9c9d2ac50b32c2bb48d07fb4e80e81552acc76ade952777f5deb05fdac8f88c6
Copying blob sha256:ad46648f2433aa416763060fb4baaefe64baeda603d4e572f883c21c5482fea1
Copying blob sha256:48ed3bfd822646e50676cd7606af43e984db141bb1755904362f1eb64684c68a
Copying config sha256:9ab464da6e7cd61400b7572f75ba9dda729d78dc6c4c7334d24709f6ffcf33c4
Writing manifest to image destination
Storing signatures
Successfully pushed image-registry.openshift-image-registry.svc:5000/sila-kissuu-us-ocp/temps@sha256:3b5a16fa7f3560cf12b58281e6a4585f045913395df61bac8c86ecced1e389f1
Push successful
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ oc get pods -w
NAME             READY   STATUS              RESTARTS   AGE
temps-1-6gstp    0/1     Pending             0          0s
temps-1-build    0/1     Completed           0          91s
temps-1-deploy   0/1     ContainerCreating   0          9s
temps-1-6gstp   0/1   ContainerCreating   0     0s
temps-1-deploy   1/1   Running   0     10s
temps-1-6gstp   0/1   ContainerCreating   0     8s
temps-1-6gstp   1/1   Running   0     12s
temps-1-deploy   0/1   Completed   0     22s
temps-1-deploy   0/1   Completed   0     22s
^C[student@workstation DO180-apps]$ oc get pods -w
NAME             READY   STATUS      RESTARTS   AGE
temps-1-6gstp    1/1     Running     0          33s
temps-1-build    0/1     Completed   0          2m4s
temps-1-deploy   0/1     Completed   0          42s
^C[student@workstation DO180-apps]$ oc expose svc/temps
route.route.openshift.io/temps exposed
[student@workstation DO180-apps]$ oc get route/temps
NAME    HOST/PORT                                                PATH   SERVICES   PORT       TERMINATION   WILDCARD
temps   temps-sila-kissuu-us-ocp.apps.ocp-na2.prod.nextcle.com          temps      8080-tcp                 None
[student@workstation DO180-apps]$ lab openshift-review finish 

Completing the Lab: Deploying Containerized Applications on OpenShift

 · Log in on OpenShift.........................................  SUCCESS
 · Deleting the sila-kissuu-us-ocp project.....................  SUCCESS
[student@workstation DO180-apps]$ 



=============================

Writing objects: 100% (3/3), 2.97 KiB | 0 bytes/s, done.
Total 3 (delta 2), reused 0 (delta 0)
remote: Resolving deltas: 100% (2/2), completed with 2 local objects.
To https://github.com/kasovoni/DO180-apps
   76c18aa..cfd30c9  troubleshoot-s2i -> troubleshoot-s2i
[student@workstation DO180-apps]$ lab troubleshoot-review start 

Checking prerequisites for Lab: Troubleshooting Containerized Applications

 Checking local clone of the applications repository:
 · Folder '/home/student/DO180-apps' is a git repo.............  SUCCESS
 · Git repo '/home/student/DO180-apps' has no pending changes..  SUCCESS
 · Project 'nodejs-app' exists in student's GitHub fork........  SUCCESS
 Checking for conflicts with existing OpenShift projects:
 · Project 'sila-kissuu-us-nodejs-app' is absent...............  SUCCESS
 Checking for conflicts with existing local containers:
 · Container 'test' is absent..................................  SUCCESS
 Verifying the OpenShift cluster is running:
 · Log in on OpenShift.........................................  SUCCESS
 · Check the internal registry is up and running...............  SUCCESS

Setting up the classroom for Lab: Troubleshooting Containerized Applications

 · Downloading starter project.................................  SUCCESS
 · Downloading solution project................................  SUCCESS

Setup successful. Please proceed with the exercise.


Overall start status...........................................  SUCCESS

[student@workstation DO180-apps]$ clear

[student@workstation DO180-apps]$ history |grep sourc
  210  lab openshift-resources start 
  211  source /usr/local/etc/ocp4.config 
  227  lab openshift-resources finish 
  233  source /usr/local/etc/ocp4.config 
  301  history |grep source
  302  source /usr/local/etc/ocp4.config 
  361  source /usr/local/etc/ocp4.config 
  406  history |grep sourc
[student@workstation DO180-apps]$ !361
source /usr/local/etc/ocp4.config 
[student@workstation DO180-apps]$ git checkout master
Switched to branch 'master'
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ git checkout -b troubleshoot-review
Switched to a new branch 'troubleshoot-review'
[student@workstation DO180-apps]$ git push -u origin troubleshoot-review
Total 0 (delta 0), reused 0 (delta 0)
remote: 
remote: Create a pull request for 'troubleshoot-review' on GitHub by visiting:
remote:      https://github.com/kasovoni/DO180-apps/pull/new/troubleshoot-review
remote: 
To https://github.com/kasovoni/DO180-apps
 * [new branch]      troubleshoot-review -> troubleshoot-review
Branch troubleshoot-review set up to track remote branch troubleshoot-review from origin.
[student@workstation DO180-apps]$ ll
total 160
drwxrwxr-x. 2 student student     23 Aug  1 15:04 example
drwxrwxr-x. 2 student student     43 Aug  1 15:04 nodejs-app
drwxrwxr-x. 2 student student     40 Aug  5 17:56 nodejs-helloworld
drwxrwxr-x. 2 student student     23 Aug  1 15:04 php-helloworld
-rw-rw-r--. 1 student student     54 Aug  1 15:04 README.md
-rw-rw-r--. 1 student student 159134 Aug  5 17:56 running.log
drwxrwxr-x. 2 student student     23 Aug  1 15:04 temps
drwxrwxr-x. 5 student student     51 Aug  1 15:04 todoapp
[student@workstation DO180-apps]$ oc login -u "${RHT_OCP4_DEV_USER}"  -p "${RHT_OCP4_DEV_PASSWORD}" "${RHT_OCP4_MASTER_API}"
Login successful.

You don't have any projects. You can try to create a new project, by running

    oc new-project <projectname>

[student@workstation DO180-apps]$ oc new-project ${RHT_OCP4_DEV_USER}-nodejs-app
Now using project "sila-kissuu-us-nodejs-app" on server "https://api.ocp-na2.prod.nextcle.com:6443".

You can add applications to this project with the 'new-app' command. For example, try:

    oc new-app django-psql-example

to build a new example application in Python. Or use kubectl to deploy a simple Kubernetes application:

    kubectl create deployment hello-node --image=gcr.io/hello-minikube-zero-install/hello-node

[student@workstation DO180-apps]$ ls
example  nodejs-app  nodejs-helloworld  php-helloworld  README.md  running.log  temps  todoapp
[student@workstation DO180-apps]$ oc new-app --context-dir=nodejs-app https://github.com/${RHT_OCP4_GITHUB_USER}/DO180-apps#troubleshoot-review -i nodejs:8 --name nodejs-dev --build-env npm_config_registry=http://${RHT_OCP4_NEXUS_SERVER}/repository/npm-proxy  
--> Found image 65d8e33 (8 months old) in image stream "openshift/nodejs" under tag "8" for "nodejs:8"

    Node.js 8 
    --------- 
    Node.js 8 available as container is a base platform for building and running various Node.js 8 applications and frameworks. Node.js is a platform built on Chrome's JavaScript runtime for easily building fast, scalable network applications. Node.js uses an event-driven, non-blocking I/O model that makes it lightweight and efficient, perfect for data-intensive real-time applications that run across distributed devices.

    Tags: builder, nodejs, nodejs8

    * The source repository appears to match: nodejs
    * A source build using source code from https://github.com/kasovoni/DO180-apps#troubleshoot-review will be created
      * The resulting image will be pushed to image stream tag "nodejs-dev:latest"
      * Use 'oc start-build' to trigger a new build
    * This image will be deployed in deployment config "nodejs-dev"
    * Port 8080/tcp will be load balanced by service "nodejs-dev"
      * Other containers can access this service through the hostname "nodejs-dev"

--> Creating resources ...
    imagestream.image.openshift.io "nodejs-dev" created
    buildconfig.build.openshift.io "nodejs-dev" created
    deploymentconfig.apps.openshift.io "nodejs-dev" created
    service "nodejs-dev" created
--> Success
    Build scheduled, use 'oc logs -f bc/nodejs-dev' to track its progress.
    Application is not exposed. You can expose services to the outside world by executing one or more of the commands below:
     'oc expose svc/nodejs-dev' 
    Run 'oc status' to view your app.
[student@workstation DO180-apps]$ oc logs -f bc/nodejs-dev
Cloning "https://github.com/kasovoni/DO180-apps" ...
	Commit:	74de52ff8466cdeeb9961661507e4bc3012c0069 (updates)
	Author:	Student User <student@workstation.lab.example.com>
	Date:	Mon Aug 3 17:29:08 2020 +0000
Caching blobs under "/var/cache/blobs".
Getting image source signatures
Copying blob sha256:48ed3bfd822646e50676cd7606af43e984db141bb1755904362f1eb64684c68a
Copying blob sha256:ad46648f2433aa416763060fb4baaefe64baeda603d4e572f883c21c5482fea1
Copying blob sha256:d327c1598329494579ba3d62999df41f11bff9a2bfad57fb49b30324404ac42a
Copying blob sha256:f31f544bb80de4b38c70506516c91d18e7de1c6988143ebe000b49159e5b1f14
Copying blob sha256:9c9d2ac50b32c2bb48d07fb4e80e81552acc76ade952777f5deb05fdac8f88c6
Copying config sha256:65d8e33f8671dc979c8a6330082a9a3f8b79bb7bda223aade2bfdbbc584ec51c
Writing manifest to image destination
Storing signatures
Generating dockerfile with builder image image-registry.openshift-image-registry.svc:5000/openshift/nodejs@sha256:bf4030ac45b8b3ff0ea2892261f1fb5df5b077a67ef717836ac0de879cc775d9
STEP 1: FROM image-registry.openshift-image-registry.svc:5000/openshift/nodejs@sha256:bf4030ac45b8b3ff0ea2892261f1fb5df5b077a67ef717836ac0de879cc775d9
STEP 2: LABEL "io.openshift.build.commit.ref"="troubleshoot-review" "io.openshift.build.commit.message"="updates" "io.openshift.build.source-location"="https://github.com/kasovoni/DO180-apps" "io.openshift.build.source-context-dir"="nodejs-app" "io.openshift.build.image"="image-registry.openshift-image-registry.svc:5000/openshift/nodejs@sha256:bf4030ac45b8b3ff0ea2892261f1fb5df5b077a67ef717836ac0de879cc775d9" "io.openshift.build.commit.author"="Student User <student@workstation.lab.example.com>" "io.openshift.build.commit.date"="Mon Aug 3 17:29:08 2020 +0000" "io.openshift.build.commit.id"="74de52ff8466cdeeb9961661507e4bc3012c0069"
STEP 3: ENV OPENSHIFT_BUILD_NAME="nodejs-dev-1" OPENSHIFT_BUILD_NAMESPACE="sila-kissuu-us-nodejs-app" OPENSHIFT_BUILD_SOURCE="https://github.com/kasovoni/DO180-apps" OPENSHIFT_BUILD_REFERENCE="troubleshoot-review" OPENSHIFT_BUILD_COMMIT="74de52ff8466cdeeb9961661507e4bc3012c0069" npm_config_registry="http://nexus-common.apps.ocp-na2.prod.nextcle.com/repository/npm-proxy"
STEP 4: USER root
STEP 5: COPY upload/src /tmp/src
STEP 6: RUN chown -R 1001:0 /tmp/src
time="2020-08-05T18:07:35Z" level=warning msg="pkg/chroot: error unmounting \"/tmp/buildah893969951/mnt/rootfs\": error checking if \"/tmp/buildah893969951/mnt/rootfs/sys/fs/cgroup/perf_event\" is mounted: no such file or directory"
time="2020-08-05T18:07:36Z" level=warning msg="pkg/bind: error unmounting \"/tmp/buildah893969951/mnt/rootfs\": error checking if \"/tmp/buildah893969951/mnt/rootfs/sys/fs/cgroup/perf_event\" is mounted: no such file or directory"
STEP 7: USER 1001
STEP 8: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Installing all dependencies
npm ERR! code ETARGET
npm ERR! notarget No matching version found for express@4.20
npm ERR! notarget In most cases you or one of your dependencies are requesting
npm ERR! notarget a package version that doesn't exist.
npm ERR! notarget 
npm ERR! notarget It was specified as a dependency of 'nodejs-app'
npm ERR! notarget 

npm ERR! A complete log of this run can be found in:
npm ERR!     /opt/app-root/src/.npm/_logs/2020-08-05T18_07_38_972Z-debug.log
subprocess exited with status 1
subprocess exited with status 1
error: build error: error building at STEP "RUN /usr/libexec/s2i/assemble": exit status 1
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ oc get pods
NAME                 READY   STATUS   RESTARTS   AGE
nodejs-dev-1-build   0/1     Error    0          92s
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ 
[student@workstation DO180-apps]$ cd nodejs-app/
[student@workstation nodejs-app]$ ls 
package.json  server.js     
[student@workstation nodejs-app]$ ls package.json 
package.json
[student@workstation nodejs-app]$ less package.json 
[student@workstation nodejs-app]$ sed -i s/4.20/4.x/ package.json 
[student@workstation nodejs-app]$ less package.json 
[student@workstation nodejs-app]$ git commit -am "Fixed Express release"
[troubleshoot-review 40c3eb2] Fixed Express release
 1 file changed, 1 insertion(+), 1 deletion(-)
[student@workstation nodejs-app]$ git push
Counting objects: 7, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (4/4), done.
Writing objects: 100% (4/4), 395 bytes | 0 bytes/s, done.
Total 4 (delta 2), reused 0 (delta 0)
remote: Resolving deltas: 100% (2/2), completed with 2 local objects.
To https://github.com/kasovoni/DO180-apps
   74de52f..40c3eb2  troubleshoot-review -> troubleshoot-review
[student@workstation nodejs-app]$ oc start-build bc/nodejs-dev
build.build.openshift.io/nodejs-dev-2 started
[student@workstation nodejs-app]$ 
[student@workstation nodejs-app]$ oc logs -f bc/nodejs-dev
Cloning "https://github.com/kasovoni/DO180-apps" ...
	Commit:	40c3eb2e1efda2d7955748affdb199031c7dee40 (Fixed Express release)
	Author:	Student User <student@workstation.lab.example.com>
	Date:	Wed Aug 5 18:10:14 2020 +0000
Caching blobs under "/var/cache/blobs".
Getting image source signatures
Copying blob sha256:48ed3bfd822646e50676cd7606af43e984db141bb1755904362f1eb64684c68a
Copying blob sha256:f31f544bb80de4b38c70506516c91d18e7de1c6988143ebe000b49159e5b1f14
Copying blob sha256:d327c1598329494579ba3d62999df41f11bff9a2bfad57fb49b30324404ac42a
Copying blob sha256:9c9d2ac50b32c2bb48d07fb4e80e81552acc76ade952777f5deb05fdac8f88c6
Copying blob sha256:ad46648f2433aa416763060fb4baaefe64baeda603d4e572f883c21c5482fea1
Copying config sha256:65d8e33f8671dc979c8a6330082a9a3f8b79bb7bda223aade2bfdbbc584ec51c
Writing manifest to image destination
Storing signatures
Generating dockerfile with builder image image-registry.openshift-image-registry.svc:5000/openshift/nodejs@sha256:bf4030ac45b8b3ff0ea2892261f1fb5df5b077a67ef717836ac0de879cc775d9
STEP 1: FROM image-registry.openshift-image-registry.svc:5000/openshift/nodejs@sha256:bf4030ac45b8b3ff0ea2892261f1fb5df5b077a67ef717836ac0de879cc775d9
STEP 2: LABEL "io.openshift.build.commit.id"="40c3eb2e1efda2d7955748affdb199031c7dee40" "io.openshift.build.commit.ref"="troubleshoot-review" "io.openshift.build.commit.message"="Fixed Express release" "io.openshift.build.source-location"="https://github.com/kasovoni/DO180-apps" "io.openshift.build.source-context-dir"="nodejs-app" "io.openshift.build.image"="image-registry.openshift-image-registry.svc:5000/openshift/nodejs@sha256:bf4030ac45b8b3ff0ea2892261f1fb5df5b077a67ef717836ac0de879cc775d9" "io.openshift.build.commit.author"="Student User <student@workstation.lab.example.com>" "io.openshift.build.commit.date"="Wed Aug 5 18:10:14 2020 +0000"
STEP 3: ENV OPENSHIFT_BUILD_NAME="nodejs-dev-2" OPENSHIFT_BUILD_NAMESPACE="sila-kissuu-us-nodejs-app" OPENSHIFT_BUILD_SOURCE="https://github.com/kasovoni/DO180-apps" OPENSHIFT_BUILD_REFERENCE="troubleshoot-review" OPENSHIFT_BUILD_COMMIT="40c3eb2e1efda2d7955748affdb199031c7dee40" npm_config_registry="http://nexus-common.apps.ocp-na2.prod.nextcle.com/repository/npm-proxy"
STEP 4: USER root
STEP 5: COPY upload/src /tmp/src
STEP 6: RUN chown -R 1001:0 /tmp/src
time="2020-08-05T18:12:01Z" level=warning msg="pkg/chroot: error unmounting \"/tmp/buildah587144779/mnt/rootfs\": error checking if \"/tmp/buildah587144779/mnt/rootfs/sys/fs/cgroup/perf_event\" is mounted: no such file or directory"
time="2020-08-05T18:12:01Z" level=warning msg="pkg/bind: error unmounting \"/tmp/buildah587144779/mnt/rootfs\": error checking if \"/tmp/buildah587144779/mnt/rootfs/sys/fs/cgroup/perf_event\" is mounted: no such file or directory"
STEP 7: USER 1001
STEP 8: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Installing all dependencies
npm notice created a lockfile as package-lock.json. You should commit this file.
npm WARN nodejs-app@1.0.0 No repository field.
npm WARN nodejs-app@1.0.0 license should be a valid SPDX license expression

added 51 packages from 38 contributors in 3.45s
---> Building in production mode
---> Pruning the development dependencies
npm WARN nodejs-app@1.0.0 No repository field.
npm WARN nodejs-app@1.0.0 license should be a valid SPDX license expression

up to date in 0.828s
/opt/app-root/src/.npm is not a mountpoint
---> Cleaning the npm cache /opt/app-root/src/.npm
/tmp is not a mountpoint
---> Cleaning the /tmp/npm-*
time="2020-08-05T18:12:10Z" level=warning msg="pkg/chroot: error unmounting \"/tmp/buildah014993092/mnt/rootfs\": error checking if \"/tmp/buildah014993092/mnt/rootfs/sys/fs/cgroup/perf_event\" is mounted: no such file or directory"
time="2020-08-05T18:12:10Z" level=warning msg="pkg/bind: error unmounting \"/tmp/buildah014993092/mnt/rootfs\": error checking if \"/tmp/buildah014993092/mnt/rootfs/sys/fs/cgroup/perf_event\" is mounted: no such file or directory"
STEP 9: CMD /usr/libexec/s2i/run
STEP 10: COMMIT temp.builder.openshift.io/sila-kissuu-us-nodejs-app/nodejs-dev-2:7066ab1c
Getting image source signatures
Copying blob sha256:a551fb857b61df88ae64cded378611456294ee7143bc068eb3a9ee1a29934658
Copying blob sha256:08c4aa164cbaadfb32414e39d9b252a5382b9db1dd8e028fb11805074edbe608
Copying blob sha256:7c6c57a17fb3de2b83515a0e33782d6d769fa90725da4eb75311e5ffbf601e49
Copying blob sha256:c3b514cae9b11a6aadc78fdbb3d7b71226759927a8149f97ea400628744ad2c9
Copying blob sha256:cbf37c90f9eeadb5d2e74836f652c53879efffd5eb8fb1c7d2b6bb2680aa2739
Copying blob sha256:cb61de76c1e98818ec280c3c7e2d7fc35e1aca4afe743ecb7cd2e92e4022b7b0
Copying config sha256:f01d7b7947669048c5cd55d33290c6f57b4f897c105ecd2e2e657c36cb5aa88e
Writing manifest to image destination
Storing signatures
f01d7b7947669048c5cd55d33290c6f57b4f897c105ecd2e2e657c36cb5aa88e

Pushing image image-registry.openshift-image-registry.svc:5000/sila-kissuu-us-nodejs-app/nodejs-dev:latest ...
Getting image source signatures
Copying blob sha256:cb61de76c1e98818ec280c3c7e2d7fc35e1aca4afe743ecb7cd2e92e4022b7b0
Copying blob sha256:48ed3bfd822646e50676cd7606af43e984db141bb1755904362f1eb64684c68a
Copying blob sha256:f31f544bb80de4b38c70506516c91d18e7de1c6988143ebe000b49159e5b1f14
Copying blob sha256:d327c1598329494579ba3d62999df41f11bff9a2bfad57fb49b30324404ac42a
Copying blob sha256:ad46648f2433aa416763060fb4baaefe64baeda603d4e572f883c21c5482fea1
Copying blob sha256:9c9d2ac50b32c2bb48d07fb4e80e81552acc76ade952777f5deb05fdac8f88c6
Copying config sha256:f01d7b7947669048c5cd55d33290c6f57b4f897c105ecd2e2e657c36cb5aa88e
Writing manifest to image destination
Storing signatures
Successfully pushed image-registry.openshift-image-registry.svc:5000/sila-kissuu-us-nodejs-app/nodejs-dev@sha256:9317d2c9064a1065f19dfee8756892da20d52ab3cef9e6aa52812a42886f8c90
Push successful
[student@workstation nodejs-app]$ 
[student@workstation nodejs-app]$ 
[student@workstation nodejs-app]$ 
[student@workstation nodejs-app]$ oc start-build bc/nodejs-dev
build.build.openshift.io/nodejs-dev-3 started
[student@workstation nodejs-app]$ oc logs -f bc/nodejs-dev
Cloning "https://github.com/kasovoni/DO180-apps" ...
	Commit:	40c3eb2e1efda2d7955748affdb199031c7dee40 (Fixed Express release)
	Author:	Student User <student@workstation.lab.example.com>
	Date:	Wed Aug 5 18:10:14 2020 +0000
Caching blobs under "/var/cache/blobs".
Getting image source signatures
Copying blob sha256:48ed3bfd822646e50676cd7606af43e984db141bb1755904362f1eb64684c68a
Copying blob sha256:f31f544bb80de4b38c70506516c91d18e7de1c6988143ebe000b49159e5b1f14
Copying blob sha256:9c9d2ac50b32c2bb48d07fb4e80e81552acc76ade952777f5deb05fdac8f88c6
Copying blob sha256:ad46648f2433aa416763060fb4baaefe64baeda603d4e572f883c21c5482fea1
Copying blob sha256:d327c1598329494579ba3d62999df41f11bff9a2bfad57fb49b30324404ac42a
^C
[student@workstation nodejs-app]$ oc get pods
NAME                  READY   STATUS             RESTARTS   AGE
nodejs-dev-1-build    0/1     Error              0          6m52s
nodejs-dev-1-deploy   0/1     Completed          0          64s
nodejs-dev-1-s67vb    0/1     CrashLoopBackOff   2          54s
nodejs-dev-2-build    0/1     Completed          0          2m27s
nodejs-dev-3-build    1/1     Running            0          45s
[student@workstation nodejs-app]$ oc logs -f dc/nodejs-dev
Environment: 
	DEV_MODE=false
	NODE_ENV=production
	DEBUG_PORT=5858
Launching via npm...
npm info it worked if it ends with ok
npm info using npm@6.4.1
npm info using node@v8.16.1
npm info lifecycle nodejs-app@1.0.0~prestart: nodejs-app@1.0.0
npm info lifecycle nodejs-app@1.0.0~start: nodejs-app@1.0.0

> nodejs-app@1.0.0 start /opt/app-root/src
> node server.js

module.js:550
    throw err;
    ^

Error: Cannot find module 'http-error'
    at Function.Module._resolveFilename (module.js:548:15)
    at Function.Module._load (module.js:475:25)
    at Module.require (module.js:597:17)
    at require (internal/module.js:11:18)
    at Object.<anonymous> (/opt/app-root/src/server.js:1:81)
    at Module._compile (module.js:653:30)
    at Object.Module._extensions..js (module.js:664:10)
    at Module.load (module.js:566:32)
    at tryModuleLoad (module.js:506:12)
    at Function.Module._load (module.js:498:3)
npm info lifecycle nodejs-app@1.0.0~start: Failed to exec start script
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! nodejs-app@1.0.0 start: `node server.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the nodejs-app@1.0.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm timing npm Completed in 235ms

npm ERR! A complete log of this run can be found in:
npm ERR!     /opt/app-root/src/.npm/_logs/2020-08-05T18_13_19_804Z-debug.log
[student@workstation nodejs-app]$ sed -i s /http-error/html-errors/ server.js 
sed: -e expression #1, char 1: unterminated `s' command
[student@workstation nodejs-app]$ sed -i s/http-error/html-errors/ server.js 
[student@workstation nodejs-app]$ git commit -am "Fixed module typo"
[troubleshoot-review 29107b3] Fixed module typo
 1 file changed, 1 insertion(+), 1 deletion(-)
[student@workstation nodejs-app]$ git push
Counting objects: 7, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (4/4), done.
Writing objects: 100% (4/4), 404 bytes | 0 bytes/s, done.
Total 4 (delta 2), reused 0 (delta 0)
remote: Resolving deltas: 100% (2/2), completed with 2 local objects.
To https://github.com/kasovoni/DO180-apps
   40c3eb2..29107b3  troubleshoot-review -> troubleshoot-review
[student@workstation nodejs-app]$ oc start-build bc/nodejs-dev
build.build.openshift.io/nodejs-dev-4 started
[student@workstation nodejs-app]$ oc logs -f dc/nodejs-dev
Environment: 
	DEV_MODE=false
	NODE_ENV=production
	DEBUG_PORT=5858
Launching via npm...
npm info it worked if it ends with ok
npm info using npm@6.4.1
npm info using node@v8.16.1
npm info lifecycle nodejs-app@1.0.0~prestart: nodejs-app@1.0.0
npm info lifecycle nodejs-app@1.0.0~start: nodejs-app@1.0.0

> nodejs-app@1.0.0 start /opt/app-root/src
> node server.js

module.js:550
    throw err;
    ^

Error: Cannot find module 'http-error'
    at Function.Module._resolveFilename (module.js:548:15)
    at Function.Module._load (module.js:475:25)
    at Module.require (module.js:597:17)
    at require (internal/module.js:11:18)
    at Object.<anonymous> (/opt/app-root/src/server.js:1:81)
    at Module._compile (module.js:653:30)
    at Object.Module._extensions..js (module.js:664:10)
    at Module.load (module.js:566:32)
    at tryModuleLoad (module.js:506:12)
    at Function.Module._load (module.js:498:3)
npm info lifecycle nodejs-app@1.0.0~start: Failed to exec start script
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! nodejs-app@1.0.0 start: `node server.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the nodejs-app@1.0.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm timing npm Completed in 316ms

npm ERR! A complete log of this run can be found in:
npm ERR!     /opt/app-root/src/.npm/_logs/2020-08-05T18_25_01_868Z-debug.log
[student@workstation nodejs-app]$ sed -i s/http-error/htp-errors/ server.js 
[student@workstation nodejs-app]$ oc start-build bc/nodejs-dev
build.build.openshift.io/nodejs-dev-5 started
[student@workstation nodejs-app]$ oc logs -f dc/nodejs-dev
Environment: 
	DEV_MODE=false
	NODE_ENV=production
	DEBUG_PORT=5858
Launching via npm...
npm info it worked if it ends with ok
npm info using npm@6.4.1
npm info using node@v8.16.1
npm info lifecycle nodejs-app@1.0.0~prestart: nodejs-app@1.0.0
npm info lifecycle nodejs-app@1.0.0~start: nodejs-app@1.0.0

> nodejs-app@1.0.0 start /opt/app-root/src
> node server.js

module.js:550
    throw err;
    ^

Error: Cannot find module 'http-error'
    at Function.Module._resolveFilename (module.js:548:15)
    at Function.Module._load (module.js:475:25)
    at Module.require (module.js:597:17)
    at require (internal/module.js:11:18)
    at Object.<anonymous> (/opt/app-root/src/server.js:1:81)
    at Module._compile (module.js:653:30)
    at Object.Module._extensions..js (module.js:664:10)
    at Module.load (module.js:566:32)
    at tryModuleLoad (module.js:506:12)
    at Function.Module._load (module.js:498:3)
npm info lifecycle nodejs-app@1.0.0~start: Failed to exec start script
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! nodejs-app@1.0.0 start: `node server.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the nodejs-app@1.0.0 start script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm timing npm Completed in 316ms

npm ERR! A complete log of this run can be found in:
npm ERR!     /opt/app-root/src/.npm/_logs/2020-08-05T18_25_01_868Z-debug.log
[student@workstation nodejs-app]$ sed -i s/http-error/http-errors/ server.js 
[student@workstation nodejs-app]$ oc start-build bc/nodejs-dev
build.build.openshift.io/nodejs-dev-6 started
[student@workstation nodejs-app]$ oc logs -f dc/nodejs-dev
Environment: 
	DEV_MODE=false
	NODE_ENV=production
	DEBUG_PORT=5858
Launching via npm...
npm info it worked if it ends with ok
npm info using npm@6.4.1
npm info using node@v8.16.1
npm info lifecycle nodejs-app@1.0.0~prestart: nodejs-app@1.0.0
npm info lifecycle nodejs-app@1.0.0~start: nodejs-app@1.0.0

> nodejs-app@1.0.0 start /opt/app-root/src
> node server.js

Example app listening on port 8080!
npm info lifecycle nodejs-app@1.0.0~poststart: nodejs-app@1.0.0
npm timing npm Completed in 90915ms
npm info ok 
[student@workstation nodejs-app]$ oc get pods -w
NAME                  READY   STATUS      RESTARTS   AGE
nodejs-dev-1-build    0/1     Error       0          23m
nodejs-dev-1-deploy   0/1     Completed   0          18m
nodejs-dev-2-build    0/1     Completed   0          19m
nodejs-dev-2-deploy   0/1     Completed   0          16m
nodejs-dev-3-build    0/1     Completed   0          17m
nodejs-dev-3-deploy   0/1     Completed   0          2m41s
nodejs-dev-4-build    0/1     Completed   0          4m14s
nodejs-dev-4-deploy   0/1     Completed   0          71s
nodejs-dev-4-jnfm7    1/1     Running     0          60s
nodejs-dev-5-build    0/1     Completed   0          2m41s
nodejs-dev-6-build    1/1     Running     0          71s
^C[student@workstation nodejs-app]$ 
[student@workstation nodejs-app]$ 
[student@workstation nodejs-app]$ oc expose svc nodejs-dev
route.route.openshift.io/nodejs-dev exposed
[student@workstation nodejs-app]$ oc get route
NAME         HOST/PORT                                                            PATH   SERVICES     PORT       TERMINATION   WILDCARD
nodejs-dev   nodejs-dev-sila-kissuu-us-nodejs-app.apps.ocp-na2.prod.nextcle.com          nodejs-dev   8080-tcp                 None
[student@workstation nodejs-app]$ curl nodejs-dev-${RHT_OCP4_DEV_USER}-nodejs-app.${RHT_OCP4_WILDCARD_DOMAIN}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Error</title>
</head>
<body>
<pre>Internal Server Error</pre>
</body>
</html>
[student@workstation nodejs-app]$ oc logs dc/nodejs-dev
Environment: 
	DEV_MODE=false
	NODE_ENV=production
	DEBUG_PORT=5858
Launching via npm...
npm info it worked if it ends with ok
npm info using npm@6.4.1
npm info using node@v8.16.1
npm info lifecycle nodejs-app@1.0.0~prestart: nodejs-app@1.0.0
npm info lifecycle nodejs-app@1.0.0~start: nodejs-app@1.0.0

> nodejs-app@1.0.0 start /opt/app-root/src
> node server.js

Example app listening on port 8080!
TypeError: Cannot read property 'HOSTNAME' of undefined
    at /opt/app-root/src/server.js:7:59
    at Layer.handle [as handle_request] (/opt/app-root/src/node_modules/express/lib/router/layer.js:95:5)
    at next (/opt/app-root/src/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/opt/app-root/src/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/opt/app-root/src/node_modules/express/lib/router/layer.js:95:5)
    at /opt/app-root/src/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/opt/app-root/src/node_modules/express/lib/router/index.js:335:12)
    at next (/opt/app-root/src/node_modules/express/lib/router/index.js:275:10)
    at expressInit (/opt/app-root/src/node_modules/express/lib/middleware/init.js:40:5)
    at Layer.handle [as handle_request] (/opt/app-root/src/node_modules/express/lib/router/layer.js:95:5)
[student@workstation nodejs-app]$ sed -i s/process.environment/process.env/ server.js
[student@workstation nodejs-app]$ git commit -am "Fixed process.env"
[troubleshoot-review 54e6c78] Fixed process.env
 1 file changed, 1 insertion(+), 1 deletion(-)
[student@workstation nodejs-app]$ git push
Counting objects: 7, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (4/4), done.
Writing objects: 100% (4/4), 389 bytes | 0 bytes/s, done.
Total 4 (delta 2), reused 0 (delta 0)
remote: Resolving deltas: 100% (2/2), completed with 2 local objects.
To https://github.com/kasovoni/DO180-apps
   29107b3..54e6c78  troubleshoot-review -> troubleshoot-review
[student@workstation nodejs-app]$ oc start-build bc/nodejs-dev
build.build.openshift.io/nodejs-dev-7 started
[student@workstation nodejs-app]$ oc logs -f dc/nodejs-dev
Environment: 
	DEV_MODE=false
	NODE_ENV=production
	DEBUG_PORT=5858
Launching via npm...
npm info it worked if it ends with ok
npm info using npm@6.4.1
npm info using node@v8.16.1
npm info lifecycle nodejs-app@1.0.0~prestart: nodejs-app@1.0.0
npm info lifecycle nodejs-app@1.0.0~start: nodejs-app@1.0.0

> nodejs-app@1.0.0 start /opt/app-root/src
> node server.js

Example app listening on port 8080!
TypeError: Cannot read property 'HOSTNAME' of undefined
    at /opt/app-root/src/server.js:7:59
    at Layer.handle [as handle_request] (/opt/app-root/src/node_modules/express/lib/router/layer.js:95:5)
    at next (/opt/app-root/src/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/opt/app-root/src/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/opt/app-root/src/node_modules/express/lib/router/layer.js:95:5)
    at /opt/app-root/src/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/opt/app-root/src/node_modules/express/lib/router/index.js:335:12)
    at next (/opt/app-root/src/node_modules/express/lib/router/index.js:275:10)
    at expressInit (/opt/app-root/src/node_modules/express/lib/middleware/init.js:40:5)
    at Layer.handle [as handle_request] (/opt/app-root/src/node_modules/express/lib/router/layer.js:95:5)
^C
[student@workstation nodejs-app]$ oc logs -f bc/nodejs-dev
Cloning "https://github.com/kasovoni/DO180-apps" ...
	Commit:	54e6c78cdd6cdc79c149701b211e2b6abbdb8a1d (Fixed process.env)
	Author:	Student User <student@workstation.lab.example.com>
	Date:	Wed Aug 5 18:33:05 2020 +0000
Caching blobs under "/var/cache/blobs".
Getting image source signatures
Copying blob sha256:48ed3bfd822646e50676cd7606af43e984db141bb1755904362f1eb64684c68a
Copying blob sha256:9c9d2ac50b32c2bb48d07fb4e80e81552acc76ade952777f5deb05fdac8f88c6
Copying blob sha256:f31f544bb80de4b38c70506516c91d18e7de1c6988143ebe000b49159e5b1f14
Copying blob sha256:d327c1598329494579ba3d62999df41f11bff9a2bfad57fb49b30324404ac42a
Copying blob sha256:ad46648f2433aa416763060fb4baaefe64baeda603d4e572f883c21c5482fea1
Copying config sha256:65d8e33f8671dc979c8a6330082a9a3f8b79bb7bda223aade2bfdbbc584ec51c
Writing manifest to image destination
Storing signatures
Generating dockerfile with builder image image-registry.openshift-image-registry.svc:5000/openshift/nodejs@sha256:bf4030ac45b8b3ff0ea2892261f1fb5df5b077a67ef717836ac0de879cc775d9
STEP 1: FROM image-registry.openshift-image-registry.svc:5000/openshift/nodejs@sha256:bf4030ac45b8b3ff0ea2892261f1fb5df5b077a67ef717836ac0de879cc775d9
STEP 2: LABEL "io.openshift.build.commit.author"="Student User <student@workstation.lab.example.com>" "io.openshift.build.commit.date"="Wed Aug 5 18:33:05 2020 +0000" "io.openshift.build.commit.id"="54e6c78cdd6cdc79c149701b211e2b6abbdb8a1d" "io.openshift.build.commit.ref"="troubleshoot-review" "io.openshift.build.commit.message"="Fixed process.env" "io.openshift.build.source-location"="https://github.com/kasovoni/DO180-apps" "io.openshift.build.source-context-dir"="nodejs-app" "io.openshift.build.image"="image-registry.openshift-image-registry.svc:5000/openshift/nodejs@sha256:bf4030ac45b8b3ff0ea2892261f1fb5df5b077a67ef717836ac0de879cc775d9"
STEP 3: ENV OPENSHIFT_BUILD_NAME="nodejs-dev-7" OPENSHIFT_BUILD_NAMESPACE="sila-kissuu-us-nodejs-app" OPENSHIFT_BUILD_SOURCE="https://github.com/kasovoni/DO180-apps" OPENSHIFT_BUILD_REFERENCE="troubleshoot-review" OPENSHIFT_BUILD_COMMIT="54e6c78cdd6cdc79c149701b211e2b6abbdb8a1d" npm_config_registry="http://nexus-common.apps.ocp-na2.prod.nextcle.com/repository/npm-proxy"
STEP 4: USER root
STEP 5: COPY upload/src /tmp/src
STEP 6: RUN chown -R 1001:0 /tmp/src
time="2020-08-05T18:34:32Z" level=warning msg="pkg/chroot: error unmounting \"/tmp/buildah328746072/mnt/rootfs\": error checking if \"/tmp/buildah328746072/mnt/rootfs/sys/fs/cgroup/perf_event\" is mounted: no such file or directory"
time="2020-08-05T18:34:32Z" level=warning msg="pkg/bind: error unmounting \"/tmp/buildah328746072/mnt/rootfs\": error checking if \"/tmp/buildah328746072/mnt/rootfs/sys/fs/cgroup/perf_event\" is mounted: no such file or directory"
STEP 7: USER 1001
STEP 8: RUN /usr/libexec/s2i/assemble
---> Installing application source ...
---> Installing all dependencies
npm notice created a lockfile as package-lock.json. You should commit this file.
npm WARN nodejs-app@1.0.0 No repository field.
npm WARN nodejs-app@1.0.0 license should be a valid SPDX license expression

added 51 packages from 38 contributors in 8.394s
---> Building in production mode
---> Pruning the development dependencies
npm WARN nodejs-app@1.0.0 No repository field.
npm WARN nodejs-app@1.0.0 license should be a valid SPDX license expression

up to date in 0.944s
/opt/app-root/src/.npm is not a mountpoint
---> Cleaning the npm cache /opt/app-root/src/.npm
/tmp is not a mountpoint
---> Cleaning the /tmp/npm-*
time="2020-08-05T18:34:46Z" level=warning msg="pkg/chroot: error unmounting \"/tmp/buildah636722917/mnt/rootfs\": error checking if \"/tmp/buildah636722917/mnt/rootfs/sys/fs/cgroup/perf_event\" is mounted: no such file or directory"
time="2020-08-05T18:34:46Z" level=warning msg="pkg/bind: error unmounting \"/tmp/buildah636722917/mnt/rootfs\": error checking if \"/tmp/buildah636722917/mnt/rootfs/sys/fs/cgroup/perf_event\" is mounted: no such file or directory"
STEP 9: CMD /usr/libexec/s2i/run
STEP 10: COMMIT temp.builder.openshift.io/sila-kissuu-us-nodejs-app/nodejs-dev-7:a7883b04
Getting image source signatures
Copying blob sha256:a551fb857b61df88ae64cded378611456294ee7143bc068eb3a9ee1a29934658
Copying blob sha256:08c4aa164cbaadfb32414e39d9b252a5382b9db1dd8e028fb11805074edbe608
Copying blob sha256:7c6c57a17fb3de2b83515a0e33782d6d769fa90725da4eb75311e5ffbf601e49
Copying blob sha256:c3b514cae9b11a6aadc78fdbb3d7b71226759927a8149f97ea400628744ad2c9
Copying blob sha256:cbf37c90f9eeadb5d2e74836f652c53879efffd5eb8fb1c7d2b6bb2680aa2739
Copying blob sha256:07327dec0e2f29dd793e4aebdb1ba959d1f2a5ef1cd9ae48895d6001511f4e1d
Copying config sha256:bb2eea11461ab65d8036fd81e9cd71517ea9c8f94f4555c3cd91eed794e79df8
Writing manifest to image destination
Storing signatures
bb2eea11461ab65d8036fd81e9cd71517ea9c8f94f4555c3cd91eed794e79df8

Pushing image image-registry.openshift-image-registry.svc:5000/sila-kissuu-us-nodejs-app/nodejs-dev:latest ...
Getting image source signatures
Copying blob sha256:9c9d2ac50b32c2bb48d07fb4e80e81552acc76ade952777f5deb05fdac8f88c6
Copying blob sha256:48ed3bfd822646e50676cd7606af43e984db141bb1755904362f1eb64684c68a
Copying blob sha256:ad46648f2433aa416763060fb4baaefe64baeda603d4e572f883c21c5482fea1
Copying blob sha256:d327c1598329494579ba3d62999df41f11bff9a2bfad57fb49b30324404ac42a
Copying blob sha256:07327dec0e2f29dd793e4aebdb1ba959d1f2a5ef1cd9ae48895d6001511f4e1d
Copying blob sha256:f31f544bb80de4b38c70506516c91d18e7de1c6988143ebe000b49159e5b1f14
Copying config sha256:bb2eea11461ab65d8036fd81e9cd71517ea9c8f94f4555c3cd91eed794e79df8
Writing manifest to image destination
Storing signatures
Successfully pushed image-registry.openshift-image-registry.svc:5000/sila-kissuu-us-nodejs-app/nodejs-dev@sha256:4b2f15417cd7698bc27bb9f3d3a13714c10500e495aade5fa3ac062f9610bbe9
Push successful
[student@workstation nodejs-app]$ curl nodejs-dev-${RHT_OCP4_DEV_USER}-nodejs-app.${RHT_OCP4_WILDCARD_DOMAIN}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Error</title>
</head>
<body>
<pre>Internal Server Error</pre>
</body>
</html>
[student@workstation nodejs-app]$ lab troubleshoot-review grade 

Grading the student's work for the Lab: Troubleshooting Containerized Applications

 · The nodejs-dev application response is correct..............  PASS

[student@workstation nodejs-app]$ lab troubleshoot-review finish 

Completing the Lab: Troubleshooting Containerized Applications

 · Log in on OpenShift.........................................  SUCCESS
 · Deleting the 'sila-kissuu-us-nodejs-app' OpenShift project..  SUCCESS
[student@workstation nodejs-app]$ 



